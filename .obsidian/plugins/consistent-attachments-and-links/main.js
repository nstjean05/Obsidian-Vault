/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault: () => extractDefault,
    process: () => {
      const browserProcess = {
        browser: true,
        cwd: () => "/",
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var yg=Object.create;var Ei=Object.defineProperty;var bg=Object.getOwnPropertyDescriptor;var kg=Object.getOwnPropertyNames;var vg=Object.getPrototypeOf,Ag=Object.prototype.hasOwnProperty;var kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),au=(t,e)=>{for(var n in e)Ei(t,n,{get:e[n],enumerable:!0})},lu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of kg(e))!Ag.call(t,o)&&o!==n&&Ei(t,o,{get:()=>e[o],enumerable:!(r=bg(e,o))||r.enumerable});return t};var rt=(t,e,n)=>(n=t!=null?yg(vg(t)):{},lu(e||!t||!t.__esModule?Ei(n,"default",{value:t,enumerable:!0}):n,t)),Cg=t=>lu(Ei({},"__esModule",{value:!0}),t);var gu=kt((Bb,mu)=>{"use strict";function Ft(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function pu(t,e){for(var n="",r=0,o=-1,s=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(o===u-1||s===1))if(o!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var d=n.lastIndexOf("/");if(d!==n.length-1){d===-1?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),o=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),r=u-o-1;o=u,s=0}else l===46&&s!==-1?++s:s=-1}return n}function _g(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Hn={resolve:function(){for(var e="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),Ft(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=pu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ft(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=pu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Ft(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Ft(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Hn.normalize(e)},relative:function(e,n){if(Ft(e),Ft(n),e===n||(e=Hn.resolve(e),n=Hn.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,d=u-l,p=s<d?s:d,h=-1,m=0;m<=p;++m){if(m===p){if(d>p){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else s>p&&(e.charCodeAt(r+m)===47?h=m:m===0&&(h=0));break}var g=e.charCodeAt(r+m),y=n.charCodeAt(l+m);if(g!==y)break;g===47&&(h=m)}var A="";for(m=r+h+1;m<=o;++m)(m===o||e.charCodeAt(m)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Ft(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,o=-1,s=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!s){o=l;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ft(e);var r=0,o=-1,s=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,d=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!s){r=l+1;break}}else d===-1&&(s=!1,d=l+1),u>=0&&(p===n.charCodeAt(u)?--u===-1&&(o=l):(u=-1,o=d))}return r===o?o=d:o===-1&&(o=e.length),e.slice(r,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!s){r=l+1;break}}else o===-1&&(s=!1,o=l+1);return o===-1?"":e.slice(r,o)}},extname:function(e){Ft(e);for(var n=-1,r=0,o=-1,s=!0,l=0,u=e.length-1;u>=0;--u){var d=e.charCodeAt(u);if(d===47){if(!s){r=u+1;break}continue}o===-1&&(s=!1,o=u+1),d===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return _g("/",e)},parse:function(e){Ft(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var l=-1,u=0,d=-1,p=!0,h=e.length-1,m=0;h>=s;--h){if(r=e.charCodeAt(h),r===47){if(!p){u=h+1;break}continue}d===-1&&(p=!1,d=h+1),r===46?l===-1?l=h:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||d===-1||m===0||m===1&&l===d-1&&l===u+1?d!==-1&&(u===0&&o?n.base=n.name=e.slice(1,d):n.base=n.name=e.slice(u,d)):(u===0&&o?(n.name=e.slice(1,l),n.base=e.slice(1,d)):(n.name=e.slice(u,l),n.base=e.slice(u,d)),n.ext=e.slice(l,d)),u>0?n.dir=e.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Hn.posix=Hn;mu.exports=Hn});var Ou=kt((hk,Iu)=>{var qn=1e3,Kn=qn*60,Zn=Kn*60,xn=Zn*24,Bg=xn*7,Yg=xn*365.25;Iu.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Vg(t);if(n==="number"&&isFinite(t))return e.long?Ug(t):zg(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Vg(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Yg;case"weeks":case"week":case"w":return n*Bg;case"days":case"day":case"d":return n*xn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Zn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kn;case"seconds":case"second":case"secs":case"sec":case"s":return n*qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function zg(t){var e=Math.abs(t);return e>=xn?Math.round(t/xn)+"d":e>=Zn?Math.round(t/Zn)+"h":e>=Kn?Math.round(t/Kn)+"m":e>=qn?Math.round(t/qn)+"s":t+"ms"}function Ug(t){var e=Math.abs(t);return e>=xn?Di(t,e,xn,"day"):e>=Zn?Di(t,e,Zn,"hour"):e>=Kn?Di(t,e,Kn,"minute"):e>=qn?Di(t,e,qn,"second"):t+" ms"}function Di(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}});var Gs=kt((pk,Lu)=>{function Hg(t){n.debug=n,n.default=n,n.coerce=d,n.disable=l,n.enable=o,n.enabled=u,n.humanize=Ou(),n.destroy=p,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let m=0;for(let g=0;g<h.length;g++)m=(m<<5)-m+h.charCodeAt(g),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(h){let m,g=null,y,A;function F(...S){if(!F.enabled)return;let C=F,T=Number(new Date),P=T-(m||T);C.diff=P,C.prev=m,C.curr=T,m=T,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let B=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,Q)=>{if(E==="%%")return"%";B++;let j=n.formatters[Q];if(typeof j=="function"){let G=S[B];E=j.call(C,G),S.splice(B,1),B--}return E}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return F.namespace=h,F.useColors=n.useColors(),F.color=n.selectColor(h),F.extend=r,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==n.namespaces&&(y=n.namespaces,A=n.enabled(h)),A),set:S=>{g=S}}),typeof n.init=="function"&&n.init(F),F}function r(h,m){let g=n(this.namespace+(typeof m>"u"?":":m)+h);return g.log=this.log,g}function o(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of m)g[0]==="-"?n.skips.push(g.slice(1)):n.names.push(g)}function s(h,m){let g=0,y=0,A=-1,F=0;for(;g<h.length;)if(y<m.length&&(m[y]===h[g]||m[y]==="*"))m[y]==="*"?(A=y,F=g,y++):(g++,y++);else if(A!==-1)y=A+1,F++,g=F;else return!1;for(;y<m.length&&m[y]==="*";)y++;return y===m.length}function l(){let h=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),h}function u(h){for(let m of n.skips)if(s(h,m))return!1;for(let m of n.names)if(s(h,m))return!0;return!1}function d(h){return h instanceof Error?h.stack||h.message:h}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Lu.exports=Hg});var Ru=kt((Ke,Mi)=>{Ke.formatArgs=jg;Ke.save=Gg;Ke.load=qg;Ke.useColors=$g;Ke.storage=Kg();Ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $g(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function jg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Mi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}Ke.log=console.debug||console.log||(()=>{});function Gg(t){try{t?Ke.storage.setItem("debug",t):Ke.storage.removeItem("debug")}catch{}}function qg(){let t;try{t=Ke.storage.getItem("debug")||Ke.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Kg(){try{return localStorage}catch{}}Mi.exports=Gs()(Ke);var{formatters:Zg}=Mi.exports;Zg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Wu=kt((mk,Nu)=>{"use strict";Nu.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1||r<o)}});var Vu=kt((gk,Yu)=>{"use strict";var Qg=require("os"),Bu=require("tty"),st=Wu(),{env:Ce}=process,sn;st("no-color")||st("no-colors")||st("color=false")||st("color=never")?sn=0:(st("color")||st("colors")||st("color=true")||st("color=always"))&&(sn=1);"FORCE_COLOR"in Ce&&(Ce.FORCE_COLOR==="true"?sn=1:Ce.FORCE_COLOR==="false"?sn=0:sn=Ce.FORCE_COLOR.length===0?1:Math.min(parseInt(Ce.FORCE_COLOR,10),3));function qs(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Ks(t,e){if(sn===0)return 0;if(st("color=16m")||st("color=full")||st("color=truecolor"))return 3;if(st("color=256"))return 2;if(t&&!e&&sn===void 0)return 0;let n=sn||0;if(Ce.TERM==="dumb")return n;if(process.platform==="win32"){let r=Qg.release().split(".");return Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Ce)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(r=>r in Ce)||Ce.CI_NAME==="codeship"?1:n;if("TEAMCITY_VERSION"in Ce)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ce.TEAMCITY_VERSION)?1:0;if(Ce.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ce){let r=parseInt((Ce.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ce.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ce.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ce.TERM)||"COLORTERM"in Ce?1:n}function Jg(t){let e=Ks(t,t&&t.isTTY);return qs(e)}Yu.exports={supportsColor:Jg,stdout:qs(Ks(!0,Bu.isatty(1))),stderr:qs(Ks(!0,Bu.isatty(2)))}});var Uu=kt((xe,Oi)=>{var Xg=require("tty"),Ii=require("util");xe.init=s0;xe.log=r0;xe.formatArgs=t0;xe.save=i0;xe.load=o0;xe.useColors=e0;xe.destroy=Ii.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");xe.colors=[6,2,3,4,5,1];try{let t=Vu();t&&(t.stderr||t).level>=2&&(xe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}xe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function e0(){return"colors"in xe.inspectOpts?!!xe.inspectOpts.colors:Xg.isatty(process.stderr.fd)}function t0(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(o+"m+"+Oi.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=n0()+e+" "+t[0]}function n0(){return xe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function r0(...t){return process.stderr.write(Ii.formatWithOptions(xe.inspectOpts,...t)+`
`)}function i0(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function o0(){return process.env.DEBUG}function s0(t){t.inspectOpts={};let e=Object.keys(xe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=xe.inspectOpts[e[n]]}Oi.exports=Gs()(xe);var{formatters:zu}=Oi.exports;zu.o=function(t){return this.inspectOpts.colors=this.useColors,Ii.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};zu.O=function(t){return this.inspectOpts.colors=this.useColors,Ii.inspect(t,this.inspectOpts)}});var Hu=kt((wk,Zs)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Zs.exports=Ru():Zs.exports=Uu()});var rc=kt((Vi,nc)=>{(function(t,e){typeof Vi=="object"&&typeof nc<"u"?e(Vi):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Vi,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let C=S.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return C.shift(),C},r=S=>S==="*"||S==="x"||S==="X",o=S=>{let C=parseInt(S,10);return isNaN(C)?S:C},s=(S,C)=>typeof S!=typeof C?[String(S),String(C)]:[S,C],l=(S,C)=>{if(r(S)||r(C))return 0;let[T,P]=s(o(S),o(C));return T>P?1:T<P?-1:0},u=(S,C)=>{for(let T=0;T<Math.max(S.length,C.length);T++){let P=l(S[T]||"0",C[T]||"0");if(P!==0)return P}return 0},d=(S,C)=>{let T=n(S),P=n(C),B=T.pop(),Y=P.pop(),E=u(T,P);return E!==0?E:B&&Y?u(B.split("."),Y.split(".")):B||Y?B?-1:1:0},p=(S,C,T)=>{g(T);let P=d(S,C);return h[T].includes(P)},h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(h),g=S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},y=(S,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(ee=>y(S,ee));if(C.includes(" - ")){let[ee,ce]=C.split(" - ",2);return y(S,`>=${ee} <=${ce}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(ee=>y(S,ee));let T=C.match(/^([<>=~^]+)/),P=T?T[1]:"=";if(P!=="^"&&P!=="~")return p(S,C,P);let[B,Y,E,,Q]=n(S),[j,G,ne,,ae]=n(C),X=[B,Y,E],N=[j,G??"x",ne??"x"];if(ae&&(!Q||u(X,N)!==0||u(Q.split("."),ae.split("."))===-1))return!1;let U=N.findIndex(ee=>ee!=="0")+1,V=P==="~"?2:U>1?U:1;return!(u(X.slice(0,V),N.slice(0,V))!==0||u(X.slice(V),N.slice(V))===-1)},A=S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),F=S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S);t.compare=p,t.compareVersions=d,t.satisfies=y,t.validate=A,t.validateStrict=F}))});var Od=kt((CS,Id)=>{"use strict";var go=Object.prototype.hasOwnProperty,Md=Object.prototype.toString,Sd=Object.defineProperty,_d=Object.getOwnPropertyDescriptor,Td=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Md.call(e)==="[object Array]"},Fd=function(e){if(!e||Md.call(e)!=="[object Object]")return!1;var n=go.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&go.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var o;for(o in e);return typeof o>"u"||go.call(e,o)},Pd=function(e,n){Sd&&n.name==="__proto__"?Sd(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Dd=function(e,n){if(n==="__proto__")if(go.call(e,n)){if(_d)return _d(e,n).value}else return;return e[n]};Id.exports=function t(){var e,n,r,o,s,l,u=arguments[0],d=1,p=arguments.length,h=!1;for(typeof u=="boolean"&&(h=u,u=arguments[1]||{},d=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});d<p;++d)if(e=arguments[d],e!=null)for(n in e)r=Dd(u,n),o=Dd(e,n),u!==o&&(h&&o&&(Fd(o)||(s=Td(o)))?(s?(s=!1,l=r&&Td(r)?r:[]):l=r&&Fd(r)?r:{},Pd(u,{name:n,newValue:t(h,l,o)})):typeof o<"u"&&Pd(u,{name:n,newValue:o}));return u}});var On=kt((pl,gr)=>{(function(t,e){typeof pl=="object"&&typeof gr<"u"?gr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(pl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(i){t=i}function r(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function o(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function s(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function l(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(s(i,a))return!1;return!0}function u(i){return i===void 0}function d(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function p(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function h(i,a){var c=[],f,w=i.length;for(f=0;f<w;++f)c.push(a(i[f],f));return c}function m(i,a){for(var c in a)s(a,c)&&(i[c]=a[c]);return s(a,"toString")&&(i.toString=a.toString),s(a,"valueOf")&&(i.valueOf=a.valueOf),i}function g(i,a,c,f){return Wl(i,a,c,f,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function A(i){return i._pf==null&&(i._pf=y()),i._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(i){var a=Object(this),c=a.length>>>0,f;for(f=0;f<c;f++)if(f in a&&i.call(this,a[f],f,a))return!0;return!1};function S(i){var a=null,c=!1,f=i._d&&!isNaN(i._d.getTime());if(f&&(a=A(i),c=F.call(a.parsedDateParts,function(w){return w!=null}),f=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),i._strict&&(f=f&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=f;else return f;return i._isValid}function C(i){var a=g(NaN);return i!=null?m(A(a),i):A(a).userInvalidated=!0,a}var T=e.momentProperties=[],P=!1;function B(i,a){var c,f,w,k=T.length;if(u(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),u(a._i)||(i._i=a._i),u(a._f)||(i._f=a._f),u(a._l)||(i._l=a._l),u(a._strict)||(i._strict=a._strict),u(a._tzm)||(i._tzm=a._tzm),u(a._isUTC)||(i._isUTC=a._isUTC),u(a._offset)||(i._offset=a._offset),u(a._pf)||(i._pf=A(a)),u(a._locale)||(i._locale=a._locale),k>0)for(c=0;c<k;c++)f=T[c],w=a[f],u(w)||(i[f]=w);return i}function Y(i){B(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function E(i){return i instanceof Y||i!=null&&i._isAMomentObject!=null}function Q(i){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function j(i,a){var c=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),c){var f=[],w,k,x,O=arguments.length;for(k=0;k<O;k++){if(w="",typeof arguments[k]=="object"){w+=`
[`+k+"] ";for(x in arguments[0])s(arguments[0],x)&&(w+=x+": "+arguments[0][x]+", ");w=w.slice(0,-2)}else w=arguments[k];f.push(w)}Q(i+`
Arguments: `+Array.prototype.slice.call(f).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var G={};function ne(i,a){e.deprecationHandler!=null&&e.deprecationHandler(i,a),G[i]||(Q(a),G[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ae(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function X(i){var a,c;for(c in i)s(i,c)&&(a=i[c],ae(a)?this[c]=a:this["_"+c]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(i,a){var c=m({},i),f;for(f in a)s(a,f)&&(o(i[f])&&o(a[f])?(c[f]={},m(c[f],i[f]),m(c[f],a[f])):a[f]!=null?c[f]=a[f]:delete c[f]);for(f in i)s(i,f)&&!s(a,f)&&o(i[f])&&(c[f]=m({},c[f]));return c}function U(i){i!=null&&this.set(i)}var V;Object.keys?V=Object.keys:V=function(i){var a,c=[];for(a in i)s(i,a)&&c.push(a);return c};var ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(i,a,c){var f=this._calendar[i]||this._calendar.sameElse;return ae(f)?f.call(a,c):f}function he(i,a,c){var f=""+Math.abs(i),w=a-f.length,k=i>=0;return(k?c?"+":"":"-")+Math.pow(10,Math.max(0,w)).toString().substr(1)+f}var Ge=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Fe={},Pe={};function b(i,a,c,f){var w=f;typeof f=="string"&&(w=function(){return this[f]()}),i&&(Pe[i]=w),a&&(Pe[a[0]]=function(){return he(w.apply(this,arguments),a[1],a[2])}),c&&(Pe[c]=function(){return this.localeData().ordinal(w.apply(this,arguments),i)})}function Re(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function Rt(i){var a=i.match(Ge),c,f;for(c=0,f=a.length;c<f;c++)Pe[a[c]]?a[c]=Pe[a[c]]:a[c]=Re(a[c]);return function(w){var k="",x;for(x=0;x<f;x++)k+=ae(a[x])?a[x].call(w,i):a[x];return k}}function en(i,a){return i.isValid()?(a=gn(a,i.localeData()),Fe[a]=Fe[a]||Rt(a),Fe[a](i)):i.localeData().invalidDate()}function gn(i,a){var c=5;function f(w){return a.longDateFormat(w)||w}for(v.lastIndex=0;c>=0&&v.test(i);)i=i.replace(v,f),v.lastIndex=0,c-=1;return i}var we={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function wn(i){var a=this._longDateFormat[i],c=this._longDateFormat[i.toUpperCase()];return a||!c?a:(this._longDateFormat[i]=c.match(Ge).map(function(f){return f==="MMMM"||f==="MM"||f==="DD"||f==="dddd"?f.slice(1):f}).join(""),this._longDateFormat[i])}var pt="Invalid date";function Nt(){return this._invalidDate}var tn="%d",br=/\d{1,2}/;function ys(i){return this._ordinal.replace("%d",i)}var si={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ai(i,a,c,f){var w=this._relativeTime[c];return ae(w)?w(i,a,c,f):w.replace(/%d/i,i)}function li(i,a){var c=this._relativeTime[i>0?"future":"past"];return ae(c)?c(a):c.replace(/%s/i,a)}var ui={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ne(i){return typeof i=="string"?ui[i]||ui[i.toLowerCase()]:void 0}function Rn(i){var a={},c,f;for(f in i)s(i,f)&&(c=Ne(f),c&&(a[c]=i[f]));return a}var bs={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ks(i){var a=[],c;for(c in i)s(i,c)&&a.push({unit:c,priority:bs[c]});return a.sort(function(f,w){return f.priority-w.priority}),a}var ci=/\d/,We=/\d\d/,di=/\d{3}/,_=/\d{4}/,M=/[+-]?\d{6}/,I=/\d\d?/,q=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,De=/\d{1,3}/,mt=/\d{1,4}/,qe=/[+-]?\d{1,6}/,tt=/\d+/,St=/[+-]?\d+/,Be=/Z|[+-]\d\d:?\d\d/gi,gt=/Z|[+-]\d\d(?::?\d\d)?/gi,wt=/[+-]?\d+(\.\d{1,3})?/,kr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Nn=/^[1-9]\d?/,vs=/^([1-9]\d|\d)/,fi;fi={};function L(i,a,c){fi[i]=ae(a)?a:function(f,w){return f&&c?c:a}}function Bf(i,a){return s(fi,i)?fi[i](a._strict,a._locale):new RegExp(Yf(i))}function Yf(i){return Wt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,f,w,k){return c||f||w||k}))}function Wt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function K(i){var a=+i,c=0;return a!==0&&isFinite(a)&&(c=nt(a)),c}var As={};function ie(i,a){var c,f=a,w;for(typeof i=="string"&&(i=[i]),d(a)&&(f=function(k,x){x[a]=K(k)}),w=i.length,c=0;c<w;c++)As[i[c]]=f}function vr(i,a){ie(i,function(c,f,w,k){w._w=w._w||{},a(c,w._w,w,k)})}function Vf(i,a,c){a!=null&&s(As,i)&&As[i](a,c._a,c,i)}function hi(i){return i%4===0&&i%100!==0||i%400===0}var Me=0,Bt=1,_t=2,ye=3,yt=4,Yt=5,yn=6,zf=7,Uf=8;b("Y",0,0,function(){var i=this.year();return i<=9999?he(i,4):"+"+i}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),L("Y",St),L("YY",I,We),L("YYYY",mt,_),L("YYYYY",qe,M),L("YYYYYY",qe,M),ie(["YYYYY","YYYYYY"],Me),ie("YYYY",function(i,a){a[Me]=i.length===2?e.parseTwoDigitYear(i):K(i)}),ie("YY",function(i,a){a[Me]=e.parseTwoDigitYear(i)}),ie("Y",function(i,a){a[Me]=parseInt(i,10)});function Ar(i){return hi(i)?366:365}e.parseTwoDigitYear=function(i){return K(i)+(K(i)>68?1900:2e3)};var Al=Wn("FullYear",!0);function Hf(){return hi(this.year())}function Wn(i,a){return function(c){return c!=null?(Cl(this,i,c),e.updateOffset(this,a),this):Cr(this,i)}}function Cr(i,a){if(!i.isValid())return NaN;var c=i._d,f=i._isUTC;switch(a){case"Milliseconds":return f?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return f?c.getUTCSeconds():c.getSeconds();case"Minutes":return f?c.getUTCMinutes():c.getMinutes();case"Hours":return f?c.getUTCHours():c.getHours();case"Date":return f?c.getUTCDate():c.getDate();case"Day":return f?c.getUTCDay():c.getDay();case"Month":return f?c.getUTCMonth():c.getMonth();case"FullYear":return f?c.getUTCFullYear():c.getFullYear();default:return NaN}}function Cl(i,a,c){var f,w,k,x,O;if(!(!i.isValid()||isNaN(c))){switch(f=i._d,w=i._isUTC,a){case"Milliseconds":return void(w?f.setUTCMilliseconds(c):f.setMilliseconds(c));case"Seconds":return void(w?f.setUTCSeconds(c):f.setSeconds(c));case"Minutes":return void(w?f.setUTCMinutes(c):f.setMinutes(c));case"Hours":return void(w?f.setUTCHours(c):f.setHours(c));case"Date":return void(w?f.setUTCDate(c):f.setDate(c));case"FullYear":break;default:return}k=c,x=i.month(),O=i.date(),O=O===29&&x===1&&!hi(k)?28:O,w?f.setUTCFullYear(k,x,O):f.setFullYear(k,x,O)}}function $f(i){return i=Ne(i),ae(this[i])?this[i]():this}function jf(i,a){if(typeof i=="object"){i=Rn(i);var c=ks(i),f,w=c.length;for(f=0;f<w;f++)this[c[f].unit](i[c[f].unit])}else if(i=Ne(i),ae(this[i]))return this[i](a);return this}function Gf(i,a){return(i%a+a)%a}var pe;Array.prototype.indexOf?pe=Array.prototype.indexOf:pe=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function Cs(i,a){if(isNaN(i)||isNaN(a))return NaN;var c=Gf(a,12);return i+=(a-c)/12,c===1?hi(i)?29:28:31-c%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),b("MMMM",0,0,function(i){return this.localeData().months(this,i)}),L("M",I,Nn),L("MM",I,We),L("MMM",function(i,a){return a.monthsShortRegex(i)}),L("MMMM",function(i,a){return a.monthsRegex(i)}),ie(["M","MM"],function(i,a){a[Bt]=K(i)-1}),ie(["MMM","MMMM"],function(i,a,c,f){var w=c._locale.monthsParse(i,f,c._strict);w!=null?a[Bt]=w:A(c).invalidMonth=i});var qf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),El=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Kf=kr,Zf=kr;function Qf(i,a){return i?r(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||El).test(a)?"format":"standalone"][i.month()]:r(this._months)?this._months:this._months.standalone}function Jf(i,a){return i?r(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[El.test(a)?"format":"standalone"][i.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Xf(i,a,c){var f,w,k,x=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],f=0;f<12;++f)k=g([2e3,f]),this._shortMonthsParse[f]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[f]=this.months(k,"").toLocaleLowerCase();return c?a==="MMM"?(w=pe.call(this._shortMonthsParse,x),w!==-1?w:null):(w=pe.call(this._longMonthsParse,x),w!==-1?w:null):a==="MMM"?(w=pe.call(this._shortMonthsParse,x),w!==-1?w:(w=pe.call(this._longMonthsParse,x),w!==-1?w:null)):(w=pe.call(this._longMonthsParse,x),w!==-1?w:(w=pe.call(this._shortMonthsParse,x),w!==-1?w:null))}function eh(i,a,c){var f,w,k;if(this._monthsParseExact)return Xf.call(this,i,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),f=0;f<12;f++){if(w=g([2e3,f]),c&&!this._longMonthsParse[f]&&(this._longMonthsParse[f]=new RegExp("^"+this.months(w,"").replace(".","")+"$","i"),this._shortMonthsParse[f]=new RegExp("^"+this.monthsShort(w,"").replace(".","")+"$","i")),!c&&!this._monthsParse[f]&&(k="^"+this.months(w,"")+"|^"+this.monthsShort(w,""),this._monthsParse[f]=new RegExp(k.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[f].test(i))return f;if(c&&a==="MMM"&&this._shortMonthsParse[f].test(i))return f;if(!c&&this._monthsParse[f].test(i))return f}}function Sl(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=K(a);else if(a=i.localeData().monthsParse(a),!d(a))return i}var c=a,f=i.date();return f=f<29?f:Math.min(f,Cs(i.year(),c)),i._isUTC?i._d.setUTCMonth(c,f):i._d.setMonth(c,f),i}function _l(i){return i!=null?(Sl(this,i),e.updateOffset(this,!0),this):Cr(this,"Month")}function th(){return Cs(this.year(),this.month())}function nh(i){return this._monthsParseExact?(s(this,"_monthsRegex")||Tl.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Kf),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function rh(i){return this._monthsParseExact?(s(this,"_monthsRegex")||Tl.call(this),i?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Zf),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Tl(){function i(z,Z){return Z.length-z.length}var a=[],c=[],f=[],w,k,x,O;for(w=0;w<12;w++)k=g([2e3,w]),x=Wt(this.monthsShort(k,"")),O=Wt(this.months(k,"")),a.push(x),c.push(O),f.push(O),f.push(x);a.sort(i),c.sort(i),f.sort(i),this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ih(i,a,c,f,w,k,x){var O;return i<100&&i>=0?(O=new Date(i+400,a,c,f,w,k,x),isFinite(O.getFullYear())&&O.setFullYear(i)):O=new Date(i,a,c,f,w,k,x),O}function xr(i){var a,c;return i<100&&i>=0?(c=Array.prototype.slice.call(arguments),c[0]=i+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function pi(i,a,c){var f=7+a-c,w=(7+xr(i,0,f).getUTCDay()-a)%7;return-w+f-1}function Fl(i,a,c,f,w){var k=(7+c-f)%7,x=pi(i,f,w),O=1+7*(a-1)+k+x,z,Z;return O<=0?(z=i-1,Z=Ar(z)+O):O>Ar(i)?(z=i+1,Z=O-Ar(i)):(z=i,Z=O),{year:z,dayOfYear:Z}}function Er(i,a,c){var f=pi(i.year(),a,c),w=Math.floor((i.dayOfYear()-f-1)/7)+1,k,x;return w<1?(x=i.year()-1,k=w+Vt(x,a,c)):w>Vt(i.year(),a,c)?(k=w-Vt(i.year(),a,c),x=i.year()+1):(x=i.year(),k=w),{week:k,year:x}}function Vt(i,a,c){var f=pi(i,a,c),w=pi(i+1,a,c);return(Ar(i)-f+w)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),L("w",I,Nn),L("ww",I,We),L("W",I,Nn),L("WW",I,We),vr(["w","ww","W","WW"],function(i,a,c,f){a[f.substr(0,1)]=K(i)});function oh(i){return Er(i,this._week.dow,this._week.doy).week}var sh={dow:0,doy:6};function ah(){return this._week.dow}function lh(){return this._week.doy}function uh(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function ch(i){var a=Er(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),b("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),b("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),L("d",I),L("e",I),L("E",I),L("dd",function(i,a){return a.weekdaysMinRegex(i)}),L("ddd",function(i,a){return a.weekdaysShortRegex(i)}),L("dddd",function(i,a){return a.weekdaysRegex(i)}),vr(["dd","ddd","dddd"],function(i,a,c,f){var w=c._locale.weekdaysParse(i,f,c._strict);w!=null?a.d=w:A(c).invalidWeekday=i}),vr(["d","e","E"],function(i,a,c,f){a[f]=K(i)});function dh(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function fh(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function xs(i,a){return i.slice(a,7).concat(i.slice(0,a))}var hh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ph="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mh=kr,gh=kr,wh=kr;function yh(i,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?xs(c,this._week.dow):i?c[i.day()]:c}function bh(i){return i===!0?xs(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function kh(i){return i===!0?xs(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function vh(i,a,c){var f,w,k,x=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],f=0;f<7;++f)k=g([2e3,1]).day(f),this._minWeekdaysParse[f]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[f]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[f]=this.weekdays(k,"").toLocaleLowerCase();return c?a==="dddd"?(w=pe.call(this._weekdaysParse,x),w!==-1?w:null):a==="ddd"?(w=pe.call(this._shortWeekdaysParse,x),w!==-1?w:null):(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null):a==="dddd"?(w=pe.call(this._weekdaysParse,x),w!==-1||(w=pe.call(this._shortWeekdaysParse,x),w!==-1)?w:(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null)):a==="ddd"?(w=pe.call(this._shortWeekdaysParse,x),w!==-1||(w=pe.call(this._weekdaysParse,x),w!==-1)?w:(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null)):(w=pe.call(this._minWeekdaysParse,x),w!==-1||(w=pe.call(this._weekdaysParse,x),w!==-1)?w:(w=pe.call(this._shortWeekdaysParse,x),w!==-1?w:null))}function Ah(i,a,c){var f,w,k;if(this._weekdaysParseExact)return vh.call(this,i,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),f=0;f<7;f++){if(w=g([2e3,1]).day(f),c&&!this._fullWeekdaysParse[f]&&(this._fullWeekdaysParse[f]=new RegExp("^"+this.weekdays(w,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[f]=new RegExp("^"+this.weekdaysShort(w,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[f]=new RegExp("^"+this.weekdaysMin(w,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[f]||(k="^"+this.weekdays(w,"")+"|^"+this.weekdaysShort(w,"")+"|^"+this.weekdaysMin(w,""),this._weekdaysParse[f]=new RegExp(k.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[f].test(i))return f;if(c&&a==="ddd"&&this._shortWeekdaysParse[f].test(i))return f;if(c&&a==="dd"&&this._minWeekdaysParse[f].test(i))return f;if(!c&&this._weekdaysParse[f].test(i))return f}}function Ch(i){if(!this.isValid())return i!=null?this:NaN;var a=Cr(this,"Day");return i!=null?(i=dh(i,this.localeData()),this.add(i-a,"d")):a}function xh(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function Eh(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=fh(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function Sh(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Es.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=mh),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function _h(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Es.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gh),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Th(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Es.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wh),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Es(){function i(Ye,jt){return jt.length-Ye.length}var a=[],c=[],f=[],w=[],k,x,O,z,Z;for(k=0;k<7;k++)x=g([2e3,1]).day(k),O=Wt(this.weekdaysMin(x,"")),z=Wt(this.weekdaysShort(x,"")),Z=Wt(this.weekdays(x,"")),a.push(O),c.push(z),f.push(Z),w.push(O),w.push(z),w.push(Z);a.sort(i),c.sort(i),f.sort(i),w.sort(i),this._weekdaysRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ss(){return this.hours()%12||12}function Fh(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,Ss),b("k",["kk",2],0,Fh),b("hmm",0,0,function(){return""+Ss.apply(this)+he(this.minutes(),2)}),b("hmmss",0,0,function(){return""+Ss.apply(this)+he(this.minutes(),2)+he(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+he(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+he(this.minutes(),2)+he(this.seconds(),2)});function Dl(i,a){b(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Dl("a",!0),Dl("A",!1);function Ml(i,a){return a._meridiemParse}L("a",Ml),L("A",Ml),L("H",I,vs),L("h",I,Nn),L("k",I,Nn),L("HH",I,We),L("hh",I,We),L("kk",I,We),L("hmm",q),L("hmmss",re),L("Hmm",q),L("Hmmss",re),ie(["H","HH"],ye),ie(["k","kk"],function(i,a,c){var f=K(i);a[ye]=f===24?0:f}),ie(["a","A"],function(i,a,c){c._isPm=c._locale.isPM(i),c._meridiem=i}),ie(["h","hh"],function(i,a,c){a[ye]=K(i),A(c).bigHour=!0}),ie("hmm",function(i,a,c){var f=i.length-2;a[ye]=K(i.substr(0,f)),a[yt]=K(i.substr(f)),A(c).bigHour=!0}),ie("hmmss",function(i,a,c){var f=i.length-4,w=i.length-2;a[ye]=K(i.substr(0,f)),a[yt]=K(i.substr(f,2)),a[Yt]=K(i.substr(w)),A(c).bigHour=!0}),ie("Hmm",function(i,a,c){var f=i.length-2;a[ye]=K(i.substr(0,f)),a[yt]=K(i.substr(f))}),ie("Hmmss",function(i,a,c){var f=i.length-4,w=i.length-2;a[ye]=K(i.substr(0,f)),a[yt]=K(i.substr(f,2)),a[Yt]=K(i.substr(w))});function Ph(i){return(i+"").toLowerCase().charAt(0)==="p"}var Dh=/[ap]\.?m?\.?/i,Mh=Wn("Hours",!0);function Ih(i,a,c){return i>11?c?"pm":"PM":c?"am":"AM"}var Il={calendar:ee,longDateFormat:we,invalidDate:pt,ordinal:tn,dayOfMonthOrdinalParse:br,relativeTime:si,months:qf,monthsShort:xl,week:sh,weekdays:hh,weekdaysMin:ph,weekdaysShort:Pl,meridiemParse:Dh},ue={},Sr={},_r;function Oh(i,a){var c,f=Math.min(i.length,a.length);for(c=0;c<f;c+=1)if(i[c]!==a[c])return c;return f}function Ol(i){return i&&i.toLowerCase().replace("_","-")}function Lh(i){for(var a=0,c,f,w,k;a<i.length;){for(k=Ol(i[a]).split("-"),c=k.length,f=Ol(i[a+1]),f=f?f.split("-"):null;c>0;){if(w=mi(k.slice(0,c).join("-")),w)return w;if(f&&f.length>=c&&Oh(k,f)>=c-1)break;c--}a++}return _r}function Rh(i){return!!(i&&i.match("^[^/\\\\]*$"))}function mi(i){var a=null,c;if(ue[i]===void 0&&typeof gr<"u"&&gr&&gr.exports&&Rh(i))try{a=_r._abbr,c=require,c("./locale/"+i),nn(a)}catch{ue[i]=null}return ue[i]}function nn(i,a){var c;return i&&(u(a)?c=zt(i):c=_s(i,a),c?_r=c:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),_r._abbr}function _s(i,a){if(a!==null){var c,f=Il;if(a.abbr=i,ue[i]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),f=ue[i]._config;else if(a.parentLocale!=null)if(ue[a.parentLocale]!=null)f=ue[a.parentLocale]._config;else if(c=mi(a.parentLocale),c!=null)f=c._config;else return Sr[a.parentLocale]||(Sr[a.parentLocale]=[]),Sr[a.parentLocale].push({name:i,config:a}),null;return ue[i]=new U(N(f,a)),Sr[i]&&Sr[i].forEach(function(w){_s(w.name,w.config)}),nn(i),ue[i]}else return delete ue[i],null}function Nh(i,a){if(a!=null){var c,f,w=Il;ue[i]!=null&&ue[i].parentLocale!=null?ue[i].set(N(ue[i]._config,a)):(f=mi(i),f!=null&&(w=f._config),a=N(w,a),f==null&&(a.abbr=i),c=new U(a),c.parentLocale=ue[i],ue[i]=c),nn(i)}else ue[i]!=null&&(ue[i].parentLocale!=null?(ue[i]=ue[i].parentLocale,i===nn()&&nn(i)):ue[i]!=null&&delete ue[i]);return ue[i]}function zt(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return _r;if(!r(i)){if(a=mi(i),a)return a;i=[i]}return Lh(i)}function Wh(){return V(ue)}function Ts(i){var a,c=i._a;return c&&A(i).overflow===-2&&(a=c[Bt]<0||c[Bt]>11?Bt:c[_t]<1||c[_t]>Cs(c[Me],c[Bt])?_t:c[ye]<0||c[ye]>24||c[ye]===24&&(c[yt]!==0||c[Yt]!==0||c[yn]!==0)?ye:c[yt]<0||c[yt]>59?yt:c[Yt]<0||c[Yt]>59?Yt:c[yn]<0||c[yn]>999?yn:-1,A(i)._overflowDayOfYear&&(a<Me||a>_t)&&(a=_t),A(i)._overflowWeeks&&a===-1&&(a=zf),A(i)._overflowWeekday&&a===-1&&(a=Uf),A(i).overflow=a),i}var Bh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vh=/Z|[+-]\d\d(?::?\d\d)?/,gi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Fs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zh=/^\/?Date\((-?\d+)/i,Uh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ll(i){var a,c,f=i._i,w=Bh.exec(f)||Yh.exec(f),k,x,O,z,Z=gi.length,Ye=Fs.length;if(w){for(A(i).iso=!0,a=0,c=Z;a<c;a++)if(gi[a][1].exec(w[1])){x=gi[a][0],k=gi[a][2]!==!1;break}if(x==null){i._isValid=!1;return}if(w[3]){for(a=0,c=Ye;a<c;a++)if(Fs[a][1].exec(w[3])){O=(w[2]||" ")+Fs[a][0];break}if(O==null){i._isValid=!1;return}}if(!k&&O!=null){i._isValid=!1;return}if(w[4])if(Vh.exec(w[4]))z="Z";else{i._isValid=!1;return}i._f=x+(O||"")+(z||""),Ds(i)}else i._isValid=!1}function $h(i,a,c,f,w,k){var x=[jh(i),xl.indexOf(a),parseInt(c,10),parseInt(f,10),parseInt(w,10)];return k&&x.push(parseInt(k,10)),x}function jh(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function Gh(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function qh(i,a,c){if(i){var f=Pl.indexOf(i),w=new Date(a[0],a[1],a[2]).getDay();if(f!==w)return A(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function Kh(i,a,c){if(i)return Hh[i];if(a)return 0;var f=parseInt(c,10),w=f%100,k=(f-w)/100;return k*60+w}function Rl(i){var a=Uh.exec(Gh(i._i)),c;if(a){if(c=$h(a[4],a[3],a[2],a[5],a[6],a[7]),!qh(a[1],c,i))return;i._a=c,i._tzm=Kh(a[8],a[9],a[10]),i._d=xr.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),A(i).rfc2822=!0}else i._isValid=!1}function Zh(i){var a=zh.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(Ll(i),i._isValid===!1)delete i._isValid;else return;if(Rl(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Bn(i,a,c){return i??a??c}function Qh(i){var a=new Date(e.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Ps(i){var a,c,f=[],w,k,x;if(!i._d){for(w=Qh(i),i._w&&i._a[_t]==null&&i._a[Bt]==null&&Jh(i),i._dayOfYear!=null&&(x=Bn(i._a[Me],w[Me]),(i._dayOfYear>Ar(x)||i._dayOfYear===0)&&(A(i)._overflowDayOfYear=!0),c=xr(x,0,i._dayOfYear),i._a[Bt]=c.getUTCMonth(),i._a[_t]=c.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=f[a]=w[a];for(;a<7;a++)i._a[a]=f[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[ye]===24&&i._a[yt]===0&&i._a[Yt]===0&&i._a[yn]===0&&(i._nextDay=!0,i._a[ye]=0),i._d=(i._useUTC?xr:ih).apply(null,f),k=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[ye]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==k&&(A(i).weekdayMismatch=!0)}}function Jh(i){var a,c,f,w,k,x,O,z,Z;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,x=4,c=Bn(a.GG,i._a[Me],Er(le(),1,4).year),f=Bn(a.W,1),w=Bn(a.E,1),(w<1||w>7)&&(z=!0)):(k=i._locale._week.dow,x=i._locale._week.doy,Z=Er(le(),k,x),c=Bn(a.gg,i._a[Me],Z.year),f=Bn(a.w,Z.week),a.d!=null?(w=a.d,(w<0||w>6)&&(z=!0)):a.e!=null?(w=a.e+k,(a.e<0||a.e>6)&&(z=!0)):w=k),f<1||f>Vt(c,k,x)?A(i)._overflowWeeks=!0:z!=null?A(i)._overflowWeekday=!0:(O=Fl(c,f,w,k,x),i._a[Me]=O.year,i._dayOfYear=O.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Ds(i){if(i._f===e.ISO_8601){Ll(i);return}if(i._f===e.RFC_2822){Rl(i);return}i._a=[],A(i).empty=!0;var a=""+i._i,c,f,w,k,x,O=a.length,z=0,Z,Ye;for(w=gn(i._f,i._locale).match(Ge)||[],Ye=w.length,c=0;c<Ye;c++)k=w[c],f=(a.match(Bf(k,i))||[])[0],f&&(x=a.substr(0,a.indexOf(f)),x.length>0&&A(i).unusedInput.push(x),a=a.slice(a.indexOf(f)+f.length),z+=f.length),Pe[k]?(f?A(i).empty=!1:A(i).unusedTokens.push(k),Vf(k,f,i)):i._strict&&!f&&A(i).unusedTokens.push(k);A(i).charsLeftOver=O-z,a.length>0&&A(i).unusedInput.push(a),i._a[ye]<=12&&A(i).bigHour===!0&&i._a[ye]>0&&(A(i).bigHour=void 0),A(i).parsedDateParts=i._a.slice(0),A(i).meridiem=i._meridiem,i._a[ye]=Xh(i._locale,i._a[ye],i._meridiem),Z=A(i).era,Z!==null&&(i._a[Me]=i._locale.erasConvertYear(Z,i._a[Me])),Ps(i),Ts(i)}function Xh(i,a,c){var f;return c==null?a:i.meridiemHour!=null?i.meridiemHour(a,c):(i.isPM!=null&&(f=i.isPM(c),f&&a<12&&(a+=12),!f&&a===12&&(a=0)),a)}function ep(i){var a,c,f,w,k,x,O=!1,z=i._f.length;if(z===0){A(i).invalidFormat=!0,i._d=new Date(NaN);return}for(w=0;w<z;w++)k=0,x=!1,a=B({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[w],Ds(a),S(a)&&(x=!0),k+=A(a).charsLeftOver,k+=A(a).unusedTokens.length*10,A(a).score=k,O?k<f&&(f=k,c=a):(f==null||k<f||x)&&(f=k,c=a,x&&(O=!0));m(i,c||a)}function tp(i){if(!i._d){var a=Rn(i._i),c=a.day===void 0?a.date:a.day;i._a=h([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(f){return f&&parseInt(f,10)}),Ps(i)}}function np(i){var a=new Y(Ts(Nl(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Nl(i){var a=i._i,c=i._f;return i._locale=i._locale||zt(i._l),a===null||c===void 0&&a===""?C({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),E(a)?new Y(Ts(a)):(p(a)?i._d=a:r(c)?ep(i):c?Ds(i):rp(i),S(i)||(i._d=null),i))}function rp(i){var a=i._i;u(a)?i._d=new Date(e.now()):p(a)?i._d=new Date(a.valueOf()):typeof a=="string"?Zh(i):r(a)?(i._a=h(a.slice(0),function(c){return parseInt(c,10)}),Ps(i)):o(a)?tp(i):d(a)?i._d=new Date(a):e.createFromInputFallback(i)}function Wl(i,a,c,f,w){var k={};return(a===!0||a===!1)&&(f=a,a=void 0),(c===!0||c===!1)&&(f=c,c=void 0),(o(i)&&l(i)||r(i)&&i.length===0)&&(i=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=w,k._l=c,k._i=i,k._f=a,k._strict=f,np(k)}function le(i,a,c,f){return Wl(i,a,c,f,!1)}var ip=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:C()}),op=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:C()});function Bl(i,a){var c,f;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return le();for(c=a[0],f=1;f<a.length;++f)(!a[f].isValid()||a[f][i](c))&&(c=a[f]);return c}function sp(){var i=[].slice.call(arguments,0);return Bl("isBefore",i)}function ap(){var i=[].slice.call(arguments,0);return Bl("isAfter",i)}var lp=function(){return Date.now?Date.now():+new Date},Tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function up(i){var a,c=!1,f,w=Tr.length;for(a in i)if(s(i,a)&&!(pe.call(Tr,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(f=0;f<w;++f)if(i[Tr[f]]){if(c)return!1;parseFloat(i[Tr[f]])!==K(i[Tr[f]])&&(c=!0)}return!0}function cp(){return this._isValid}function dp(){return bt(NaN)}function wi(i){var a=Rn(i),c=a.year||0,f=a.quarter||0,w=a.month||0,k=a.week||a.isoWeek||0,x=a.day||0,O=a.hour||0,z=a.minute||0,Z=a.second||0,Ye=a.millisecond||0;this._isValid=up(a),this._milliseconds=+Ye+Z*1e3+z*6e4+O*1e3*60*60,this._days=+x+k*7,this._months=+w+f*3+c*12,this._data={},this._locale=zt(),this._bubble()}function yi(i){return i instanceof wi}function Ms(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function fp(i,a,c){var f=Math.min(i.length,a.length),w=Math.abs(i.length-a.length),k=0,x;for(x=0;x<f;x++)(c&&i[x]!==a[x]||!c&&K(i[x])!==K(a[x]))&&k++;return k+w}function Yl(i,a){b(i,0,0,function(){var c=this.utcOffset(),f="+";return c<0&&(c=-c,f="-"),f+he(~~(c/60),2)+a+he(~~c%60,2)})}Yl("Z",":"),Yl("ZZ",""),L("Z",gt),L("ZZ",gt),ie(["Z","ZZ"],function(i,a,c){c._useUTC=!0,c._tzm=Is(gt,i)});var hp=/([\+\-]|\d\d)/gi;function Is(i,a){var c=(a||"").match(i),f,w,k;return c===null?null:(f=c[c.length-1]||[],w=(f+"").match(hp)||["-",0,0],k=+(w[1]*60)+K(w[2]),k===0?0:w[0]==="+"?k:-k)}function Os(i,a){var c,f;return a._isUTC?(c=a.clone(),f=(E(i)||p(i)?i.valueOf():le(i).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+f),e.updateOffset(c,!1),c):le(i).local()}function Ls(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function pp(i,a,c){var f=this._offset||0,w;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Is(gt,i),i===null)return this}else Math.abs(i)<16&&!c&&(i=i*60);return!this._isUTC&&a&&(w=Ls(this)),this._offset=i,this._isUTC=!0,w!=null&&this.add(w,"m"),f!==i&&(!a||this._changeInProgress?Hl(this,bt(i-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?f:Ls(this)}function mp(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function gp(i){return this.utcOffset(0,i)}function wp(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Ls(this),"m")),this}function yp(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Is(Be,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function bp(i){return this.isValid()?(i=i?le(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function kp(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vp(){if(!u(this._isDSTShifted))return this._isDSTShifted;var i={},a;return B(i,this),i=Nl(i),i._a?(a=i._isUTC?g(i._a):le(i._a),this._isDSTShifted=this.isValid()&&fp(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ap(){return this.isValid()?!this._isUTC:!1}function Cp(){return this.isValid()?this._isUTC:!1}function Vl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ep=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bt(i,a){var c=i,f=null,w,k,x;return yi(i)?c={ms:i._milliseconds,d:i._days,M:i._months}:d(i)||!isNaN(+i)?(c={},a?c[a]=+i:c.milliseconds=+i):(f=xp.exec(i))?(w=f[1]==="-"?-1:1,c={y:0,d:K(f[_t])*w,h:K(f[ye])*w,m:K(f[yt])*w,s:K(f[Yt])*w,ms:K(Ms(f[yn]*1e3))*w}):(f=Ep.exec(i))?(w=f[1]==="-"?-1:1,c={y:bn(f[2],w),M:bn(f[3],w),w:bn(f[4],w),d:bn(f[5],w),h:bn(f[6],w),m:bn(f[7],w),s:bn(f[8],w)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(x=Sp(le(c.from),le(c.to)),c={},c.ms=x.milliseconds,c.M=x.months),k=new wi(c),yi(i)&&s(i,"_locale")&&(k._locale=i._locale),yi(i)&&s(i,"_isValid")&&(k._isValid=i._isValid),k}bt.fn=wi.prototype,bt.invalid=dp;function bn(i,a){var c=i&&parseFloat(i.replace(",","."));return(isNaN(c)?0:c)*a}function zl(i,a){var c={};return c.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+i.clone().add(c.months,"M"),c}function Sp(i,a){var c;return i.isValid()&&a.isValid()?(a=Os(a,i),i.isBefore(a)?c=zl(i,a):(c=zl(a,i),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Ul(i,a){return function(c,f){var w,k;return f!==null&&!isNaN(+f)&&(ne(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=c,c=f,f=k),w=bt(c,f),Hl(this,w,i),this}}function Hl(i,a,c,f){var w=a._milliseconds,k=Ms(a._days),x=Ms(a._months);i.isValid()&&(f=f??!0,x&&Sl(i,Cr(i,"Month")+x*c),k&&Cl(i,"Date",Cr(i,"Date")+k*c),w&&i._d.setTime(i._d.valueOf()+w*c),f&&e.updateOffset(i,k||x))}var _p=Ul(1,"add"),Tp=Ul(-1,"subtract");function $l(i){return typeof i=="string"||i instanceof String}function Fp(i){return E(i)||p(i)||$l(i)||d(i)||Dp(i)||Pp(i)||i===null||i===void 0}function Pp(i){var a=o(i)&&!l(i),c=!1,f=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],w,k,x=f.length;for(w=0;w<x;w+=1)k=f[w],c=c||s(i,k);return a&&c}function Dp(i){var a=r(i),c=!1;return a&&(c=i.filter(function(f){return!d(f)&&$l(i)}).length===0),a&&c}function Mp(i){var a=o(i)&&!l(i),c=!1,f=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],w,k;for(w=0;w<f.length;w+=1)k=f[w],c=c||s(i,k);return a&&c}function Ip(i,a){var c=i.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Op(i,a){arguments.length===1&&(arguments[0]?Fp(arguments[0])?(i=arguments[0],a=void 0):Mp(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var c=i||le(),f=Os(c,this).startOf("day"),w=e.calendarFormat(this,f)||"sameElse",k=a&&(ae(a[w])?a[w].call(this,c):a[w]);return this.format(k||this.localeData().calendar(w,this,le(c)))}function Lp(){return new Y(this)}function Rp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Ne(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function Np(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Ne(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function Wp(i,a,c,f){var w=E(i)?i:le(i),k=E(a)?a:le(a);return this.isValid()&&w.isValid()&&k.isValid()?(f=f||"()",(f[0]==="("?this.isAfter(w,c):!this.isBefore(w,c))&&(f[1]===")"?this.isBefore(k,c):!this.isAfter(k,c))):!1}function Bp(i,a){var c=E(i)?i:le(i),f;return this.isValid()&&c.isValid()?(a=Ne(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(f=c.valueOf(),this.clone().startOf(a).valueOf()<=f&&f<=this.clone().endOf(a).valueOf())):!1}function Yp(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function Vp(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function zp(i,a,c){var f,w,k;if(!this.isValid())return NaN;if(f=Os(i,this),!f.isValid())return NaN;switch(w=(f.utcOffset()-this.utcOffset())*6e4,a=Ne(a),a){case"year":k=bi(this,f)/12;break;case"month":k=bi(this,f);break;case"quarter":k=bi(this,f)/3;break;case"second":k=(this-f)/1e3;break;case"minute":k=(this-f)/6e4;break;case"hour":k=(this-f)/36e5;break;case"day":k=(this-f-w)/864e5;break;case"week":k=(this-f-w)/6048e5;break;default:k=this-f}return c?k:nt(k)}function bi(i,a){if(i.date()<a.date())return-bi(a,i);var c=(a.year()-i.year())*12+(a.month()-i.month()),f=i.clone().add(c,"months"),w,k;return a-f<0?(w=i.clone().add(c-1,"months"),k=(a-f)/(f-w)):(w=i.clone().add(c+1,"months"),k=(a-f)/(w-f)),-(c+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Up(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Hp(i){if(!this.isValid())return null;var a=i!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?en(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ae(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",en(c,"Z")):en(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $p(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",c,f,w,k;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+i+'("]',f=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",w="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(c+f+w+k)}function jp(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=en(this,i);return this.localeData().postformat(a)}function Gp(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?bt({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function qp(i){return this.from(le(),i)}function Kp(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?bt({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Zp(i){return this.to(le(),i)}function jl(i){var a;return i===void 0?this._locale._abbr:(a=zt(i),a!=null&&(this._locale=a),this)}var Gl=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function ql(){return this._locale}var ki=1e3,Yn=60*ki,vi=60*Yn,Kl=(365*400+97)*24*vi;function Vn(i,a){return(i%a+a)%a}function Zl(i,a,c){return i<100&&i>=0?new Date(i+400,a,c)-Kl:new Date(i,a,c).valueOf()}function Ql(i,a,c){return i<100&&i>=0?Date.UTC(i+400,a,c)-Kl:Date.UTC(i,a,c)}function Qp(i){var a,c;if(i=Ne(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Ql:Zl,i){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Vn(a+(this._isUTC?0:this.utcOffset()*Yn),vi);break;case"minute":a=this._d.valueOf(),a-=Vn(a,Yn);break;case"second":a=this._d.valueOf(),a-=Vn(a,ki);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Jp(i){var a,c;if(i=Ne(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?Ql:Zl,i){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=vi-Vn(a+(this._isUTC?0:this.utcOffset()*Yn),vi)-1;break;case"minute":a=this._d.valueOf(),a+=Yn-Vn(a,Yn)-1;break;case"second":a=this._d.valueOf(),a+=ki-Vn(a,ki)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function Xp(){return this._d.valueOf()-(this._offset||0)*6e4}function em(){return Math.floor(this.valueOf()/1e3)}function tm(){return new Date(this.valueOf())}function nm(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function rm(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function im(){return this.isValid()?this.toISOString():null}function om(){return S(this)}function sm(){return m({},A(this))}function am(){return A(this).overflow}function lm(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),L("N",Rs),L("NN",Rs),L("NNN",Rs),L("NNNN",bm),L("NNNNN",km),ie(["N","NN","NNN","NNNN","NNNNN"],function(i,a,c,f){var w=c._locale.erasParse(i,f,c._strict);w?A(c).era=w:A(c).invalidEra=i}),L("y",tt),L("yy",tt),L("yyy",tt),L("yyyy",tt),L("yo",vm),ie(["y","yy","yyy","yyyy"],Me),ie(["yo"],function(i,a,c,f){var w;c._locale._eraYearOrdinalRegex&&(w=i.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[Me]=c._locale.eraYearOrdinalParse(i,w):a[Me]=parseInt(i,10)});function um(i,a){var c,f,w,k=this._eras||zt("en")._eras;for(c=0,f=k.length;c<f;++c){switch(typeof k[c].since){case"string":w=e(k[c].since).startOf("day"),k[c].since=w.valueOf();break}switch(typeof k[c].until){case"undefined":k[c].until=1/0;break;case"string":w=e(k[c].until).startOf("day").valueOf(),k[c].until=w.valueOf();break}}return k}function cm(i,a,c){var f,w,k=this.eras(),x,O,z;for(i=i.toUpperCase(),f=0,w=k.length;f<w;++f)if(x=k[f].name.toUpperCase(),O=k[f].abbr.toUpperCase(),z=k[f].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(O===i)return k[f];break;case"NNNN":if(x===i)return k[f];break;case"NNNNN":if(z===i)return k[f];break}else if([x,O,z].indexOf(i)>=0)return k[f]}function dm(i,a){var c=i.since<=i.until?1:-1;return a===void 0?e(i.since).year():e(i.since).year()+(a-i.offset)*c}function fm(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].name;return""}function hm(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].narrow;return""}function pm(){var i,a,c,f=this.localeData().eras();for(i=0,a=f.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),f[i].since<=c&&c<=f[i].until||f[i].until<=c&&c<=f[i].since)return f[i].abbr;return""}function mm(){var i,a,c,f,w=this.localeData().eras();for(i=0,a=w.length;i<a;++i)if(c=w[i].since<=w[i].until?1:-1,f=this.clone().startOf("day").valueOf(),w[i].since<=f&&f<=w[i].until||w[i].until<=f&&f<=w[i].since)return(this.year()-e(w[i].since).year())*c+w[i].offset;return this.year()}function gm(i){return s(this,"_erasNameRegex")||Ns.call(this),i?this._erasNameRegex:this._erasRegex}function wm(i){return s(this,"_erasAbbrRegex")||Ns.call(this),i?this._erasAbbrRegex:this._erasRegex}function ym(i){return s(this,"_erasNarrowRegex")||Ns.call(this),i?this._erasNarrowRegex:this._erasRegex}function Rs(i,a){return a.erasAbbrRegex(i)}function bm(i,a){return a.erasNameRegex(i)}function km(i,a){return a.erasNarrowRegex(i)}function vm(i,a){return a._eraYearOrdinalRegex||tt}function Ns(){var i=[],a=[],c=[],f=[],w,k,x,O,z,Z=this.eras();for(w=0,k=Z.length;w<k;++w)x=Wt(Z[w].name),O=Wt(Z[w].abbr),z=Wt(Z[w].narrow),a.push(x),i.push(O),c.push(z),f.push(x),f.push(O),f.push(z);this._erasRegex=new RegExp("^("+f.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ai(i,a){b(0,[i,i.length],0,a)}Ai("gggg","weekYear"),Ai("ggggg","weekYear"),Ai("GGGG","isoWeekYear"),Ai("GGGGG","isoWeekYear"),L("G",St),L("g",St),L("GG",I,We),L("gg",I,We),L("GGGG",mt,_),L("gggg",mt,_),L("GGGGG",qe,M),L("ggggg",qe,M),vr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,c,f){a[f.substr(0,2)]=K(i)}),vr(["gg","GG"],function(i,a,c,f){a[f]=e.parseTwoDigitYear(i)});function Am(i){return Jl.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Cm(i){return Jl.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function xm(){return Vt(this.year(),1,4)}function Em(){return Vt(this.isoWeekYear(),1,4)}function Sm(){var i=this.localeData()._week;return Vt(this.year(),i.dow,i.doy)}function _m(){var i=this.localeData()._week;return Vt(this.weekYear(),i.dow,i.doy)}function Jl(i,a,c,f,w){var k;return i==null?Er(this,f,w).year:(k=Vt(i,f,w),a>k&&(a=k),Tm.call(this,i,a,c,f,w))}function Tm(i,a,c,f,w){var k=Fl(i,a,c,f,w),x=xr(k.year,0,k.dayOfYear);return this.year(x.getUTCFullYear()),this.month(x.getUTCMonth()),this.date(x.getUTCDate()),this}b("Q",0,"Qo","quarter"),L("Q",ci),ie("Q",function(i,a){a[Bt]=(K(i)-1)*3});function Fm(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),L("D",I,Nn),L("DD",I,We),L("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],_t),ie("Do",function(i,a){a[_t]=K(i.match(I)[0])});var Xl=Wn("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),L("DDD",De),L("DDDD",di),ie(["DDD","DDDD"],function(i,a,c){c._dayOfYear=K(i)});function Pm(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}b("m",["mm",2],0,"minute"),L("m",I,vs),L("mm",I,We),ie(["m","mm"],yt);var Dm=Wn("Minutes",!1);b("s",["ss",2],0,"second"),L("s",I,vs),L("ss",I,We),ie(["s","ss"],Yt);var Mm=Wn("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),L("S",De,ci),L("SS",De,We),L("SSS",De,di);var rn,eu;for(rn="SSSS";rn.length<=9;rn+="S")L(rn,tt);function Im(i,a){a[yn]=K(("0."+i)*1e3)}for(rn="S";rn.length<=9;rn+="S")ie(rn,Im);eu=Wn("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function Om(){return this._isUTC?"UTC":""}function Lm(){return this._isUTC?"Coordinated Universal Time":""}var D=Y.prototype;D.add=_p,D.calendar=Op,D.clone=Lp,D.diff=zp,D.endOf=Jp,D.format=jp,D.from=Gp,D.fromNow=qp,D.to=Kp,D.toNow=Zp,D.get=$f,D.invalidAt=am,D.isAfter=Rp,D.isBefore=Np,D.isBetween=Wp,D.isSame=Bp,D.isSameOrAfter=Yp,D.isSameOrBefore=Vp,D.isValid=om,D.lang=Gl,D.locale=jl,D.localeData=ql,D.max=op,D.min=ip,D.parsingFlags=sm,D.set=jf,D.startOf=Qp,D.subtract=Tp,D.toArray=nm,D.toObject=rm,D.toDate=tm,D.toISOString=Hp,D.inspect=$p,typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),D.toJSON=im,D.toString=Up,D.unix=em,D.valueOf=Xp,D.creationData=lm,D.eraName=fm,D.eraNarrow=hm,D.eraAbbr=pm,D.eraYear=mm,D.year=Al,D.isLeapYear=Hf,D.weekYear=Am,D.isoWeekYear=Cm,D.quarter=D.quarters=Fm,D.month=_l,D.daysInMonth=th,D.week=D.weeks=uh,D.isoWeek=D.isoWeeks=ch,D.weeksInYear=Sm,D.weeksInWeekYear=_m,D.isoWeeksInYear=xm,D.isoWeeksInISOWeekYear=Em,D.date=Xl,D.day=D.days=Ch,D.weekday=xh,D.isoWeekday=Eh,D.dayOfYear=Pm,D.hour=D.hours=Mh,D.minute=D.minutes=Dm,D.second=D.seconds=Mm,D.millisecond=D.milliseconds=eu,D.utcOffset=pp,D.utc=gp,D.local=wp,D.parseZone=yp,D.hasAlignedHourOffset=bp,D.isDST=kp,D.isLocal=Ap,D.isUtcOffset=Cp,D.isUtc=Vl,D.isUTC=Vl,D.zoneAbbr=Om,D.zoneName=Lm,D.dates=j("dates accessor is deprecated. Use date instead.",Xl),D.months=j("months accessor is deprecated. Use month instead",_l),D.years=j("years accessor is deprecated. Use year instead",Al),D.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mp),D.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vp);function Rm(i){return le(i*1e3)}function Nm(){return le.apply(null,arguments).parseZone()}function tu(i){return i}var te=U.prototype;te.calendar=ce,te.longDateFormat=wn,te.invalidDate=Nt,te.ordinal=ys,te.preparse=tu,te.postformat=tu,te.relativeTime=ai,te.pastFuture=li,te.set=X,te.eras=um,te.erasParse=cm,te.erasConvertYear=dm,te.erasAbbrRegex=wm,te.erasNameRegex=gm,te.erasNarrowRegex=ym,te.months=Qf,te.monthsShort=Jf,te.monthsParse=eh,te.monthsRegex=rh,te.monthsShortRegex=nh,te.week=oh,te.firstDayOfYear=lh,te.firstDayOfWeek=ah,te.weekdays=yh,te.weekdaysMin=kh,te.weekdaysShort=bh,te.weekdaysParse=Ah,te.weekdaysRegex=Sh,te.weekdaysShortRegex=_h,te.weekdaysMinRegex=Th,te.isPM=Ph,te.meridiem=Ih;function Ci(i,a,c,f){var w=zt(),k=g().set(f,a);return w[c](k,i)}function nu(i,a,c){if(d(i)&&(a=i,i=void 0),i=i||"",a!=null)return Ci(i,a,c,"month");var f,w=[];for(f=0;f<12;f++)w[f]=Ci(i,f,c,"month");return w}function Ws(i,a,c,f){typeof i=="boolean"?(d(a)&&(c=a,a=void 0),a=a||""):(a=i,c=a,i=!1,d(a)&&(c=a,a=void 0),a=a||"");var w=zt(),k=i?w._week.dow:0,x,O=[];if(c!=null)return Ci(a,(c+k)%7,f,"day");for(x=0;x<7;x++)O[x]=Ci(a,(x+k)%7,f,"day");return O}function Wm(i,a){return nu(i,a,"months")}function Bm(i,a){return nu(i,a,"monthsShort")}function Ym(i,a,c){return Ws(i,a,c,"weekdays")}function Vm(i,a,c){return Ws(i,a,c,"weekdaysShort")}function zm(i,a,c){return Ws(i,a,c,"weekdaysMin")}nn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,c=K(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+c}}),e.lang=j("moment.lang is deprecated. Use moment.locale instead.",nn),e.langData=j("moment.langData is deprecated. Use moment.localeData instead.",zt);var Ut=Math.abs;function Um(){var i=this._data;return this._milliseconds=Ut(this._milliseconds),this._days=Ut(this._days),this._months=Ut(this._months),i.milliseconds=Ut(i.milliseconds),i.seconds=Ut(i.seconds),i.minutes=Ut(i.minutes),i.hours=Ut(i.hours),i.months=Ut(i.months),i.years=Ut(i.years),this}function ru(i,a,c,f){var w=bt(a,c);return i._milliseconds+=f*w._milliseconds,i._days+=f*w._days,i._months+=f*w._months,i._bubble()}function Hm(i,a){return ru(this,i,a,1)}function $m(i,a){return ru(this,i,a,-1)}function iu(i){return i<0?Math.floor(i):Math.ceil(i)}function jm(){var i=this._milliseconds,a=this._days,c=this._months,f=this._data,w,k,x,O,z;return i>=0&&a>=0&&c>=0||i<=0&&a<=0&&c<=0||(i+=iu(Bs(c)+a)*864e5,a=0,c=0),f.milliseconds=i%1e3,w=nt(i/1e3),f.seconds=w%60,k=nt(w/60),f.minutes=k%60,x=nt(k/60),f.hours=x%24,a+=nt(x/24),z=nt(ou(a)),c+=z,a-=iu(Bs(z)),O=nt(c/12),c%=12,f.days=a,f.months=c,f.years=O,this}function ou(i){return i*4800/146097}function Bs(i){return i*146097/4800}function Gm(i){if(!this.isValid())return NaN;var a,c,f=this._milliseconds;if(i=Ne(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+f/864e5,c=this._months+ou(a),i){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Bs(this._months)),i){case"week":return a/7+f/6048e5;case"day":return a+f/864e5;case"hour":return a*24+f/36e5;case"minute":return a*1440+f/6e4;case"second":return a*86400+f/1e3;case"millisecond":return Math.floor(a*864e5)+f;default:throw new Error("Unknown unit "+i)}}function Ht(i){return function(){return this.as(i)}}var su=Ht("ms"),qm=Ht("s"),Km=Ht("m"),Zm=Ht("h"),Qm=Ht("d"),Jm=Ht("w"),Xm=Ht("M"),eg=Ht("Q"),tg=Ht("y"),ng=su;function rg(){return bt(this)}function ig(i){return i=Ne(i),this.isValid()?this[i+"s"]():NaN}function kn(i){return function(){return this.isValid()?this._data[i]:NaN}}var og=kn("milliseconds"),sg=kn("seconds"),ag=kn("minutes"),lg=kn("hours"),ug=kn("days"),cg=kn("months"),dg=kn("years");function fg(){return nt(this.days()/7)}var $t=Math.round,zn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function hg(i,a,c,f,w){return w.relativeTime(a||1,!!c,i,f)}function pg(i,a,c,f){var w=bt(i).abs(),k=$t(w.as("s")),x=$t(w.as("m")),O=$t(w.as("h")),z=$t(w.as("d")),Z=$t(w.as("M")),Ye=$t(w.as("w")),jt=$t(w.as("y")),on=k<=c.ss&&["s",k]||k<c.s&&["ss",k]||x<=1&&["m"]||x<c.m&&["mm",x]||O<=1&&["h"]||O<c.h&&["hh",O]||z<=1&&["d"]||z<c.d&&["dd",z];return c.w!=null&&(on=on||Ye<=1&&["w"]||Ye<c.w&&["ww",Ye]),on=on||Z<=1&&["M"]||Z<c.M&&["MM",Z]||jt<=1&&["y"]||["yy",jt],on[2]=a,on[3]=+i>0,on[4]=f,hg.apply(null,on)}function mg(i){return i===void 0?$t:typeof i=="function"?($t=i,!0):!1}function gg(i,a){return zn[i]===void 0?!1:a===void 0?zn[i]:(zn[i]=a,i==="s"&&(zn.ss=a-1),!0)}function wg(i,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,f=zn,w,k;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(c=i),typeof a=="object"&&(f=Object.assign({},zn,a),a.s!=null&&a.ss==null&&(f.ss=a.s-1)),w=this.localeData(),k=pg(this,!c,f,w),c&&(k=w.pastFuture(+this,k)),w.postformat(k)}var Ys=Math.abs;function Un(i){return(i>0)-(i<0)||+i}function xi(){if(!this.isValid())return this.localeData().invalidDate();var i=Ys(this._milliseconds)/1e3,a=Ys(this._days),c=Ys(this._months),f,w,k,x,O=this.asSeconds(),z,Z,Ye,jt;return O?(f=nt(i/60),w=nt(f/60),i%=60,f%=60,k=nt(c/12),c%=12,x=i?i.toFixed(3).replace(/\.?0+$/,""):"",z=O<0?"-":"",Z=Un(this._months)!==Un(O)?"-":"",Ye=Un(this._days)!==Un(O)?"-":"",jt=Un(this._milliseconds)!==Un(O)?"-":"",z+"P"+(k?Z+k+"Y":"")+(c?Z+c+"M":"")+(a?Ye+a+"D":"")+(w||f||i?"T":"")+(w?jt+w+"H":"")+(f?jt+f+"M":"")+(i?jt+x+"S":"")):"P0D"}var J=wi.prototype;J.isValid=cp,J.abs=Um,J.add=Hm,J.subtract=$m,J.as=Gm,J.asMilliseconds=su,J.asSeconds=qm,J.asMinutes=Km,J.asHours=Zm,J.asDays=Qm,J.asWeeks=Jm,J.asMonths=Xm,J.asQuarters=eg,J.asYears=tg,J.valueOf=ng,J._bubble=jm,J.clone=rg,J.get=ig,J.milliseconds=og,J.seconds=sg,J.minutes=ag,J.hours=lg,J.days=ug,J.weeks=fg,J.months=cg,J.years=dg,J.humanize=wg,J.toISOString=xi,J.toString=xi,J.toJSON=xi,J.locale=jl,J.localeData=ql,J.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xi),J.lang=Gl,b("X",0,0,"unix"),b("x",0,0,"valueOf"),L("x",St),L("X",wt),ie("X",function(i,a,c){c._d=new Date(parseFloat(i)*1e3)}),ie("x",function(i,a,c){c._d=new Date(K(i))});return e.version="2.30.1",n(le),e.fn=D,e.min=sp,e.max=ap,e.now=lp,e.utc=g,e.unix=Rm,e.months=Wm,e.isDate=p,e.locale=nn,e.invalid=C,e.duration=bt,e.isMoment=E,e.weekdays=Ym,e.parseZone=Nm,e.localeData=zt,e.isDuration=yi,e.monthsShort=Bm,e.weekdaysMin=zm,e.defineLocale=_s,e.updateLocale=Nh,e.locales=Wh,e.weekdaysShort=Vm,e.normalizeUnits=Ne,e.relativeTimeRounding=mg,e.relativeTimeThreshold=gg,e.calendarFormat=Ip,e.prototype=D,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Pb={};au(Pb,{default:()=>Fb});module.exports=Cg(Pb);var ke=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Qe(){}async function Tt(){}function Fr(t){return async(...e)=>{await t(...e)}}var Mt=require("obsidian");var xg=require("obsidian"),du=require("obsidian"),fu=require("obsidian"),Lb=require("obsidian"),Rb=require("obsidian"),uu=class{data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var vt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},cu={AllProperties:"all-properties",Audio:"audio",Backlink:vt.Backlink,Bookmarks:vt.Bookmarks,Canvas:vt.Canvas,Empty:"empty",FileExplorer:vt.FileExplorer,FileProperties:"file-properties",Graph:vt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:vt.OutgoingLink,Outline:vt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Eg(){return du.TFile}function Sg(){return fu.TFolder}function At(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function Si(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(Sg())(t.vault,e),n.parent=Si(t,At(e)),n.deleted=!0,n)}function hu(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Eg())(t.vault,e),n.parent=Si(t,At(e)),n.deleted=!0,n)}function Ct(t){return!!t.position}function Ve(t){return!!t.key}var $s=rt(gu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Tg=Number.POSITIVE_INFINITY;function Pr(t){if(typeof AbortSignal.any=="function")return AbortSignal.any(t);if(t.length===0)return ve();if(t.length===1&&t[0])return t[0];let e=new AbortController;for(let o of t)if(o.aborted)return o;let n=[];for(let o of t)n.push(yu(o,r));return e.signal;function r(o){for(let s of n)s();e.abort(o.reason)}}function ve(){return new AbortController().signal}function wu(t){if(t===Tg)return ve();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}function yu(t,e){if(t.aborted)return e(t),Qe;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}}function bu(t,e){return new Promise((n,r)=>{yu(t,()=>{e?r(t.reason):n(t.reason)})})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Dr(t,e){let n=t.length,r=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let s=t[o];e(s,o,t)&&(t[r++]=s)}t.length=r}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Pt=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Dr(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Dr(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return o.push(s),s}once(e,n,r){let o=this.on(e,n,r),s=this.on(e,()=>{this.offref(o),this.offref(s)});return o}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var zs="asyncError",Vs=`Error stack:
`,_i=new Pt;_i.on(zs,Fg);var Ti="An unhandled error occurred executing async operation",xt=class t extends Error{constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace(this,t);let o=r,s=new Set;for(;o instanceof t;){if(s.has(o))throw new Error("Circular cause detected");s.add(o),o=o.cause}let l=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),l.splice(1,l.length-1,...u),this.stack=l.join(`
`)}};function Fi(t){_i.trigger(zs,t)}function ku(t){return Us(t).map(e=>"  ".repeat(e.level)+(e.message.startsWith(Vs)?e.message.slice(Vs.length):e.message)).join(`
`)}function ze(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Mr(t,e){e??=globalThis.console;let n=Us(t);for(let r of n)r.shouldClearAnsiSequence?e.error(`\x1B[0m${r.message}\x1B[0m`):e.error(r.message)}function vu(t){let e=_i.on(zs,t);return()=>{_i.offref(e)}}function vn(t){throw t}function Fg(t){Mr(t)}function Us(t,e=0,n=[]){if(t===void 0)return n;if(!(t instanceof Error)){let o;return t===null?o="(null)":typeof t=="string"?o=t:o=JSON.stringify(t)??"undefined",n.push({level:e,message:o}),n}let r=`${t.name}: ${t.message}`;if(n.push({level:e,message:r,shouldClearAnsiSequence:!0}),t.stack){let o=t.stack.startsWith(r)?t.stack.slice(r.length+1):t.stack;n.push({level:e,message:`${Vs}${o}`})}return t.cause!==void 0&&(n.push({level:e,message:"Caused by:"}),Us(t.cause,e+1,n)),n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Hs(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Au(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function $n(t,e,...n){return e??=ve(),e.throwIfAborted(),Pg(t)?await t(e,...n):t}function Pg(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Dg={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"},Mg={};for(let[t,e]of Object.entries(Dg))Mg[e]=t;function Cu(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function Ir(t){return Ie(t,/\u00A0|\u202F/g," ").normalize("NFC")}function Ie(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...o)=>{let l=typeof o.at(-1)=="object",u=l?o.length-2:o.length-1,d={groups:l?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(u-1),source:o.at(u),substring:r},p=o.slice(0,u-1).map((h,m)=>{if(typeof h=="string")return h;if(typeof h>"u")return d.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(d,...p)??d.substring}))}function xu(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function An(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ig=/[a-zA-Z]:\/[^:]*$/,Dt=$s.default.posix,rk=Dt.delimiter,ik=$s.default.posix.sep,Ue=Dt.basename,oe=Dt.dirname,it=Dt.extname,ok=Dt.format;var ge=Dt.join,sk=Dt.normalize,ak=Dt.parse,jn=Dt.relative;function Eu(t,e){return e?`${t}.${e}`:t}function Su(...t){let e=Dt.resolve(...t);return e=Og(e),Ig.exec(e)?.[0]??e}function Og(t){return Ie(t,"\\","/")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Lg="base",Rg="canvas",Pi="md";function js(t,e,n){if(ot(e))return e.extension===n;if(typeof e=="string"){let r=de(t,e);return r?r.extension===n:it(e).slice(1)===n}return!1}function Or(t,e,n){if(e===null)return null;if(Pu(e))return e;let r=_u(t,e,n);if(r)return r;let o=Mu(e);return o===e?null:_u(t,o,n)}function Ae(t,e,n,r){let o=de(t,e,r);if(!o)if(n)o=hu(t,e);else throw new Error(`File not found: ${e}`);return o}function de(t,e,n){let r=Or(t,e,n);return ot(r)?r:null}function Gn(t,e,n,r){let o=Et(t,e,r);if(!o)if(n)o=Si(t,e);else throw new Error(`Folder not found: ${e}`);return o}function Et(t,e,n){let r=Or(t,e,n);return Lr(r)?r:null}function Tu(t,e,n){let r=Gn(t,e),o=[];return n?Mt.Vault.recurseChildren(r,s=>{be(t,s)&&o.push(s)}):o=r.children.filter(s=>be(t,s)),o=o.sort((s,l)=>s.path.localeCompare(l.path)),o}async function Fu(t,e){let n=de(t,e);if(n)return n;let r=At(e);return await Ng(t,r),await t.vault.create(e,"")}async function Ng(t,e){let n=Et(t,e);return n||await t.vault.createFolder(e)}function fe(t,e){if(Pu(e))return e.path;let n=Or(t,e);return n?n.path:Mu(e)}function Pu(t){return t instanceof Mt.TAbstractFile}function Wg(t,e){return js(t,e,Lg)}function Cn(t,e){return js(t,e,Rg)}function ot(t){return t instanceof Mt.TFile}function Lr(t){return t instanceof Mt.TFolder}function be(t,e){return js(t,e,Pi)}function Rr(t,e){return be(t,e)||Cn(t,e)||Wg(t,e)}function Du(t,e){return be(t,e)?xu(e.path,`.${Pi}`):e.path}function _u(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function Mu(t){return(0,Mt.normalizePath)(Su("/",t))}var tc=require("obsidian");var ea=rt(Hu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Qs="33.0.0",Li="obsidian-dev-utils",$u=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Js=class{constructor(e){this.value=e}};function a0(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??vn(new Error("Obsidian app not found"))}}function Gt(t,e,n){let o=t??l0()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new Js(n)}function l0(){return typeof window>"u"?null:a0()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Xs="__no-plugin-id-initialized__",ju=Xs;function Ri(){return ju}function Gu(t){t&&(ju=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qu=",",Ni="-";function Ku(){return{disable:u0,enable:c0,get:Wi,set:Nr}}function Qn(t,e=0){let n=`${t}:${String(e)}`,r=Gt(null,"debuggers",new Map).value,o=r.get(n);return o||(o=Wr()(t),o.log=(s,...l)=>{d0(t,e,s,...l)},r.set(n,o)),o}function at(t){let e=Ri(),n=e===Xs?"":`${e}:`;return Qn(`${n}${Li}:${t}`)}function qt(t,e,n,...r){if(!Qu()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Ju(e))}function Zu(t){let e=Wr().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",o=Wi();Nr(t),Qn(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Nr(o)}function u0(t){let e=new Set(Wi());for(let n of Br(t)){if(n.startsWith(Ni))continue;let r=Ni+n;e.has(n)&&e.delete(n),e.add(r)}Nr(Array.from(e))}function c0(t){let e=new Set(Wi());for(let n of Br(t)){if(!n.startsWith(Ni)){let r=Ni+n;e.has(r)&&e.delete(r)}e.add(n)}Nr(Array.from(e))}function Wi(){return Br(Wr().load()??"")}function Wr(){return typeof window>"u"?ea.default:Gt(null,"debug",ea.default).value}function Qu(){return typeof window<"u"}function d0(t,e,n,...r){if(!Wr().enabled(t))return;if(!Qu()){console.debug(n,...r);return}let o=4,s=new Error().stack?.split(`
`)??[];s.splice(0,o+e),console.debug(n,...r,`

---
Logger stack trace:
`,Ju(s.join(`
`)))}function Ju(t){return new xt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}function Nr(t){Wr().enable(Br(t).join(qu))}function Br(t){return typeof t=="string"?t.split(qu).filter(Boolean):t.flatMap(Br)}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ta(t,e){e??=ze(1);try{await t()}catch(n){Fi(new xt(Ti,e,n))}}function Jn(t,e){return e??=ze(1),(...n)=>{let r=ze(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,lt(()=>t(...n),e)}}function lt(t,e){e??=ze(1),ta(t,e)}function Xu(t,e=0,n,r){r??=ve(),r.throwIfAborted(),n??=ze(1),lt(async()=>{await ra(e,r,!0),await t(r)},n)}var f0=new WeakSet,Bi=class{constructor(e){this.result=e}};async function ec(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function Yi(t,e,n){let r=at("Async:retryWithTimeout");n??=ze(1);let s={...{abortSignal:ve(),retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};s.abortSignal.throwIfAborted(),await na(s.timeoutInMilliseconds,async l=>{let u=Pr([s.abortSignal,l]);u.throwIfAborted();let d=0;for(;!u.aborted;){d++;let p;try{p=await t(u)}catch(h){if(u.aborted||!s.shouldRetryOnError||f0.has(h))throw new xt("retryWithTimeout failed",n,h);Mr(h),p=!1}if(p){qt(r,n,`Retry completed successfully after ${String(d)} attempts`,{fn:t});return}qt(r,n,`Retry attempt ${String(d)} completed unsuccessfully. Trying again in ${String(s.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await ra(s.retryDelayInMilliseconds,l)}},{retryFn:t},n)}async function na(t,e,n,r){r??=ze(1);let o=performance.now(),s=new AbortController;if(await Promise.race([l(),u()]),s.signal.reason instanceof Bi)return s.signal.reason.result;throw new xt("Run with timeout failed",r,s.signal.reason);async function l(){try{let d=await e(s.signal),p=performance.now()-o,h=at("Async:runWithTimeout");qt(h,r??"",`Execution time: ${String(p)} milliseconds`,{context:n,fn:e}),s.abort(new Bi(d))}catch(d){s.abort(d)}}async function u(){for(;!s.signal.aborted;){if(await ra(t,s.signal),s.signal.aborted)return;let d=performance.now()-o;console.warn(`Timed out after ${String(d)} milliseconds`,{context:n,fn:e});let p=at("Async:runWithTimeout:timeout");if(!p.enabled){s.abort(new Error(`Timed out after ${String(d)} milliseconds`));return}p(`The execution is not terminated because debugger ${p.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}async function ra(t,e,n){await bu(Pr([e??ve(),wu(t)])),n&&e?.throwIfAborted()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function En(t){let n={...{abortSignal:ve(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Qe,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=ze(1),o=n.items,s=0,l=null;n.shouldShowProgressBar&&(l=new tc.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),d=createEl("progress");if(d.max=o.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(d),l?.setMessage(h)}let p=performance.now();for(let h of o){if(n.abortSignal.aborted){l?.hide();return}s++;let m=`# ${String(s)} / ${String(o.length)}`,g=n.buildNoticeMessage(h,m);n.shouldShowProgressBar||l?.setMessage(g),at("Loop")(g);try{performance.now()-p>n.uiUpdateThresholdInMilliseconds&&(await ec(),p=performance.now()),await n.processItem(h)}catch(y){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw l?.hide(),new xt("loop failed",r,y);Fi(new xt(Ti,r,y))}d.value++}await u,l?.hide()}var uc=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});var ac=require("obsidian");var oc=rt(rc(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ic=`${Li}-styles`;function se(t,...e){t.addClass(W.LibraryName,Ri(),...e)}function sc(t,e){Gu(e),Zu(e);let n=Gt(t,"lastLibraryVersion","0.0.0");if((0,oc.compareVersions)(Qs,n.value)<=0)return;n.value=Qs;let r=h0();r.DEBUG=Ku(),document.head.querySelector(`#${ic}`)?.remove(),document.head.createEl("style",{attr:{id:ic},text:$u})}function h0(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var zi=class extends ac.Modal{constructor(e,n,r){super(e.app),this.resolve=n,se(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function lc(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ia=class extends zi{options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new uc.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Ui(t){await lc(e=>new ia(t,e))}var Gi=require("obsidian");var cc=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Hi=class extends cc.Component{registerAsyncEvent(e){$i(this,e)}};function $i(t,e){t.register(()=>{e.asyncEvents.offref(e)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ji=class extends Gi.Plugin{events=new Pt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Qn(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Xu(this.afterLoad.bind(this))}onunload(){super.onunload(),lt(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){lt(async()=>{await this.waitForLifecycleEvent(e),await n()})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Tt()}async onloadImpl(){sc(this.app,this.manifest.id),this.register(vu(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&($i(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),$i(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Error(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Tt()}async onSaveSettings(e,n,r){await Tt()}async onunloadImpl(){await Tt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Gi.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Jn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function dc(t,e,n,r){n.throwIfAborted();let o=at("Logger:invokeAsyncAndLog"),s=performance.now();r??=ze(1),qt(o,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let l=performance.now(),u=l-s;n.aborted&&(qt(o,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:l,timestampStart:s}),n.throwIfAborted()),qt(o,r,`${t}:end`,{duration:u,fn:e,timestampEnd:l,timestampStart:s})}catch(l){let u=performance.now();throw qt(o,r,`${t}:error`,{duration:u-s,error:l,fn:e,timestampEnd:u,timestampStart:s}),l}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ut(t,e,n,r,o){o??=ze(1),lt(()=>p0(t,e,n,r,o),o)}async function p0(t,e,n,r,o){n??=ve(),n.throwIfAborted(),r??=6e4,o??=ze(1);let l=fc(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:o,timeoutInMilliseconds:r}),l.promise=l.promise.then(()=>hc(t)),await l.promise}function fc(t){return Gt(t,"queue",{items:[],promise:Promise.resolve()})}async function hc(t){let e=fc(t).value,n=e.items[0];n&&(await ta(()=>na(n.timeoutInMilliseconds,r=>dc(hc.name,n.fn,Pr([r,n.abortSignal]),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}var pf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var pc=".",m0=[{constructor:ArrayBuffer,equalityComparer:w0},{constructor:Date,equalityComparer:y0},{constructor:RegExp,equalityComparer:k0},{constructor:Map,equalityComparer:b0},{constructor:Set,equalityComparer:v0}];function ct(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let d=A0(t,e);if(d!==void 0)return d}let o=Xn(t),s=Xn(e);if(o.length!==s.length)return!1;let l=t,u=e;for(let d of o)if(!s.includes(d)||!ct(l[d],u[d]))return!1;return!0}function Xn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let l=typeof s.get=="function",u=typeof s.set=="function";if(l||u){l&&u&&e.push(o);continue}s.enumerable&&s.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}function er(t,e){let n=t,r=e.split(pc);for(let o of r){if(n===void 0)return;n=n[o]}return n}function sa(t,e,n){let r=new Error(`Property path ${e} not found`),o=t,s=e.split(pc);for(let u of s.slice(0,-1)){if(o===void 0)throw r;o=o[u]}let l=s.at(-1);if(o===void 0||l===void 0)throw r;o[l]=n}function qi(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:oa("CircularReference"),maxDepthLimitReached:oa("MaxDepthLimitReached"),toJSONFailed:oa("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let o=[],l=Ki(t,"",0,!0,r,o,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=Ie(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(d,p,h)=>g0({functionTexts:o,index:h?parseInt(h,10):0,key:p,substitutions:r.tokenSubstitutions})),u}function g0(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??vn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function w0(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return ct(n,r)}function y0(t,e){return t.getTime()===e.getTime()}function b0(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!ct(r,e.get(n)))return!1;return!0}function k0(t,e){return t.source===e.source&&t.flags===e.flags}function v0(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let o of e)if(ct(n,o)){r=!0;break}if(!r)return!1}return!0}function A0(t,e){for(let{constructor:n,equalityComparer:r}of m0)if(t instanceof n&&e instanceof n)return r(t,e)}function C0(t,e,n,r,o,s){return e>r.maxDepth?tr("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Ki(l,String(u),e+1,n,r,o,s))}function x0(t,e,n){if(n.shouldHandleCircularReferences)return tr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function E0(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),tr("Function",r)}function S0(t,e,n,r,o,s,l){if(l.has(t))return x0(t,e,o);if(l.add(t),r){let u=T0(t,e,n,o,s,l);if(u!==void 0)return u}return Array.isArray(t)?C0(t,n,r,o,s,l):n>o.maxDepth?tr("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?ku(t):_0(t,n,r,o,s,l)}function _0(t,e,n,r,o,s){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[d])=>u.localeCompare(d)),Object.fromEntries(l.map(([u,d])=>[u,Ki(d,u,e+1,n,r,o,s)]))}function oa(t){return`{ "[[${t}]]": null }`}function tr(t,e){return`[[${t}${e?String(e):""}]]`}function Ki(t,e,n,r,o,s,l){return t===void 0?n===0||o.shouldHandleUndefined?tr("Undefined"):void 0:typeof t=="function"?E0(t,s,o):typeof t!="object"||t===null?t:S0(t,e,n,r,o,s,l)}function T0(t,e,n,r,o,s){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Ki(u,e,n,!1,r,o,s)}catch(u){if(r.shouldCatchToJSONErrors)return tr("ToJSONFailed");throw u}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function aa(t,e,n){let r=fe(t,e),o=fe(t,n),s=Ae(t,o,!0),l=it(r),u=Ue(r,l),d=t.vault.getAvailablePathForAttachments;return d.isExtended?d(u,l.slice(1),s,!0):await F0(t,u,l.slice(1),s,!0)}async function nr(t,e){return At(await aa(t,"DUMMY_FILE.pdf",e))}async function F0(t,e,n,r,o){let s=t.vault.getConfig("attachmentFolderPath"),l=s==="."||s==="./",u=null;s.startsWith("./")&&(u=An(s,"./")),l?s=r?r.parent?.path??"":"":u&&(s=(r?r.parent?.getParentPrefix()??"":"")+u),s=Ir(mc(s)),e=Ir(mc(e));let d=Et(t,s,!0);!d&&u&&(o?d=Gn(t,s,!0):d=await t.vault.createFolder(s));let p=d?.getParentPrefix()??"";return t.vault.getAvailablePath(p+e,n)}async function la(t,e){let n=await nr(t,e),r=await nr(t,ge(oe(e),"DUMMY_FILE.md"));return n!==r}function mc(t){return t=Ie(t,/(?:[\\/])+/g,"/"),t=Ie(t,/^\/+|\/+$/g,""),t||"/"}var So=require("obsidian");var P0={};function Sn(t,e){let n=e||P0,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return wc(t,r,o)}function wc(t,e,n){if(D0(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return gc(t.children,e,n)}return Array.isArray(t)?gc(t,e,n):""}function gc(t,e,n){let r=[],o=-1;for(;++o<t.length;)r[o]=wc(t[o],e,n);return r.join("")}function D0(t){return!!(t&&typeof t=="object")}var yc=document.createElement("i");function rr(t){let e="&"+t+";";yc.innerHTML=e;let n=yc.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function _e(t,e,n,r){let o=t.length,s=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(e,0),t.splice(...l),s+=1e4,e+=1e4}function He(t,e){return t.length>0?(_e(t,t.length,0,e),t):e}var bc={}.hasOwnProperty;function kc(t){let e={},n=-1;for(;++n<t.length;)M0(e,t[n]);return e}function M0(t,e){let n;for(n in e){let o=(bc.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],l;if(s)for(l in s){bc.call(o,l)||(o[l]=[]);let u=s[l];I0(o[l],Array.isArray(u)?u:u?[u]:[])}}}function I0(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);_e(t,0,0,r)}function Zi(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function Kt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Je=an(/[A-Za-z]/),$e=an(/[\dA-Za-z]/),vc=an(/[#-'*+\--9=?A-Z^-~]/);function Yr(t){return t!==null&&(t<32||t===127)}var Vr=an(/\d/),Ac=an(/[\dA-Fa-f]/),Cc=an(/[!-/:-@[-`{-~]/);function R(t){return t!==null&&t<-2}function me(t){return t!==null&&(t<0||t===32)}function H(t){return t===-2||t===-1||t===32}var xc=an(/\p{P}|\p{S}/u),Ec=an(/\s/);function an(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function $(t,e,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return l;function l(d){return H(d)?(t.enter(n),u(d)):e(d)}function u(d){return H(d)&&s++<o?(t.consume(d),u):(t.exit(n),e(d))}}var Sc={tokenize:O0};function O0(t){let e=t.attempt(this.parser.constructs.contentInitial,r,o),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),$(t,e,"linePrefix")}function o(u){return t.enter("paragraph"),s(u)}function s(u){let d=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return R(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),l)}}var Tc={tokenize:L0},_c={tokenize:R0};function L0(t){let e=this,n=[],r=0,o,s,l;return u;function u(P){if(r<n.length){let B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,d,p)(P)}return p(P)}function d(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&T();let B=e.events.length,Y=B,E;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){E=e.events[Y][1].end;break}C(r);let Q=B;for(;Q<e.events.length;)e.events[Q][1].end={...E},Q++;return _e(e.events,Y+1,0,e.events.slice(B)),e.events.length=Q,p(P)}return u(P)}function p(P){if(r===n.length){if(!o)return g(P);if(o.currentConstruct&&o.currentConstruct.concrete)return A(P);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(_c,h,m)(P)}function h(P){return o&&T(),C(r),g(P)}function m(P){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,A(P)}function g(P){return e.containerState={},t.attempt(_c,y,A)(P)}function y(P){return r++,n.push([e.currentConstruct,e.containerState]),g(P)}function A(P){if(P===null){o&&T(),C(0),t.consume(P);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),F(P)}function F(P){if(P===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(P);return}return R(P)?(t.consume(P),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),F)}function S(P,B){let Y=e.sliceStream(P);if(B&&Y.push(null),P.previous=s,s&&(s.next=P),s=P,o.defineSkip(P.start),o.write(Y),e.parser.lazy[P.start.line]){let E=o.events.length;for(;E--;)if(o.events[E][1].start.offset<l&&(!o.events[E][1].end||o.events[E][1].end.offset>l))return;let Q=e.events.length,j=Q,G,ne;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(G){ne=e.events[j][1].end;break}G=!0}for(C(r),E=Q;E<e.events.length;)e.events[E][1].end={...ne},E++;_e(e.events,j+1,0,e.events.slice(Q)),e.events.length=E}}function C(P){let B=n.length;for(;B-- >P;){let Y=n[B];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=P}function T(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}function R0(t,e,n){return $(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ir(t){if(t===null||me(t)||Ec(t))return 1;if(xc(t))return 2}function or(t,e,n){let r=[],o=-1;for(;++o<t.length;){let s=t[o].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var zr={name:"attention",resolveAll:N0,tokenize:W0};function N0(t,e){let n=-1,r,o,s,l,u,d,p,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;d=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},g={...t[n][1].start};Fc(m,-d),Fc(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:d>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=He(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=He(p,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",s,e]]),p=He(p,or(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=He(p,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,p=He(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,_e(t,r-1,n-r+3,p),n=r+p.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function W0(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ir(r),s;return l;function l(d){return s=d,t.enter("attentionSequence"),u(d)}function u(d){if(d===s)return t.consume(d),u;let p=t.exit("attentionSequence"),h=ir(d),m=!h||h===2&&o||n.includes(d),g=!o||o===2&&h||n.includes(r);return p._open=!!(s===42?m:m&&(o||!g)),p._close=!!(s===42?g:g&&(h||!m)),e(d)}}function Fc(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var ua={name:"autolink",tokenize:B0};function B0(t,e,n){let r=0;return o;function o(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(y){return Je(y)?(t.consume(y),l):y===64?n(y):p(y)}function l(y){return y===43||y===45||y===46||$e(y)?(r=1,u(y)):p(y)}function u(y){return y===58?(t.consume(y),r=0,d):(y===43||y===45||y===46||$e(y))&&r++<32?(t.consume(y),u):(r=0,p(y))}function d(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Yr(y)?n(y):(t.consume(y),d)}function p(y){return y===64?(t.consume(y),h):vc(y)?(t.consume(y),p):n(y)}function h(y){return $e(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||$e(y))&&r++<63){let A=y===45?g:m;return t.consume(y),A}return n(y)}}var ln={partial:!0,tokenize:Y0};function Y0(t,e,n){return r;function r(s){return H(s)?$(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||R(s)?e(s):n(s)}}var Qi={continuation:{tokenize:z0},exit:U0,name:"blockQuote",tokenize:V0};function V0(t,e,n){let r=this;return o;function o(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),s}return n(l)}function s(l){return H(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function z0(t,e,n){let r=this;return o;function o(l){return H(l)?$(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return t.attempt(Qi,e,n)(l)}}function U0(t){t.exit("blockQuote")}var Ji={name:"characterEscape",tokenize:H0};function H0(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return Cc(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}var Xi={name:"characterReference",tokenize:$0};function $0(t,e,n){let r=this,o=0,s,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),d}function d(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),s=31,l=$e,h(m))}function p(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,l=Ac,h):(t.enter("characterReferenceValue"),s=7,l=Vr,h(m))}function h(m){if(m===59&&o){let g=t.exit("characterReferenceValue");return l===$e&&!rr(r.sliceSerialize(g))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&o++<s?(t.consume(m),h):n(m)}}var Pc={partial:!0,tokenize:G0},eo={concrete:!0,name:"codeFenced",tokenize:j0};function j0(t,e,n){let r=this,o={partial:!0,tokenize:Y},s=0,l=0,u;return d;function d(E){return p(E)}function p(E){let Q=r.events[r.events.length-1];return s=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(E)}function h(E){return E===u?(l++,t.consume(E),h):l<3?n(E):(t.exit("codeFencedFenceSequence"),H(E)?$(t,m,"whitespace")(E):m(E))}function m(E){return E===null||R(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(Pc,F,B)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(E)):H(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),$(t,y,"whitespace")(E)):E===96&&E===u?n(E):(t.consume(E),g)}function y(E){return E===null||R(E)?m(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(E))}function A(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(E)):E===96&&E===u?n(E):(t.consume(E),A)}function F(E){return t.attempt(o,B,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),C}function C(E){return s>0&&H(E)?$(t,T,"linePrefix",s+1)(E):T(E)}function T(E){return E===null||R(E)?t.check(Pc,F,B)(E):(t.enter("codeFlowValue"),P(E))}function P(E){return E===null||R(E)?(t.exit("codeFlowValue"),T(E)):(t.consume(E),P)}function B(E){return t.exit("codeFenced"),e(E)}function Y(E,Q,j){let G=0;return ne;function ne(V){return E.enter("lineEnding"),E.consume(V),E.exit("lineEnding"),ae}function ae(V){return E.enter("codeFencedFence"),H(V)?$(E,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):X(V)}function X(V){return V===u?(E.enter("codeFencedFenceSequence"),N(V)):j(V)}function N(V){return V===u?(G++,E.consume(V),N):G>=l?(E.exit("codeFencedFenceSequence"),H(V)?$(E,U,"whitespace")(V):U(V)):j(V)}function U(V){return V===null||R(V)?(E.exit("codeFencedFence"),Q(V)):j(V)}}}function G0(t,e,n){let r=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var Ur={name:"codeIndented",tokenize:K0},q0={partial:!0,tokenize:Z0};function K0(t,e,n){let r=this;return o;function o(p){return t.enter("codeIndented"),$(t,s,"linePrefix",5)(p)}function s(p){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?d(p):R(p)?t.attempt(q0,l,d)(p):(t.enter("codeFlowValue"),u(p))}function u(p){return p===null||R(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),u)}function d(p){return t.exit("codeIndented"),e(p)}}function Z0(t,e,n){let r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):$(t,s,"linePrefix",5)(l)}function s(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):R(l)?o(l):n(l)}}var ca={name:"codeText",previous:J0,resolve:Q0,tokenize:X0};function Q0(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}function J0(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function X0(t,e,n){let r=this,o=0,s,l;return u;function u(g){return t.enter("codeText"),t.enter("codeTextSequence"),d(g)}function d(g){return g===96?(t.consume(g),o++,d):(t.exit("codeTextSequence"),p(g))}function p(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),p):g===96?(l=t.enter("codeTextSequence"),s=0,m(g)):R(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||R(g)?(t.exit("codeTextData"),p(g)):(t.consume(g),h)}function m(g){return g===96?(t.consume(g),s++,m):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(l.type="codeTextData",h(g))}}var to=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let o=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Hr(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Hr(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Hr(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);Hr(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Hr(this.left,n.reverse())}}};function Hr(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function no(t){let e={},n=-1,r,o,s,l,u,d,p,h=new to(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,s=0,s<d.length&&d[s][1].type==="lineEndingBlank"&&(s+=2),s<d.length&&d[s][1].type==="content"))for(;++s<d.length&&d[s][1].type!=="content";)d[s][1].type==="chunkText"&&(d[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,ew(h,n)),n=e[n],p=!0);else if(r[1]._container){for(s=n,o=void 0;s--&&(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);o&&(r[1].end={...h.get(o)[1].start},u=h.slice(o,n),u.unshift(r),h.splice(o,n-o+1,u))}}return _e(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}function ew(t,e){let n=t.get(e)[1],r=t.get(e)[2],o=e-1,s=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,d=[],p={},h,m,g=-1,y=n,A=0,F=0,S=[F];for(;y;){for(;t.get(++o)[1]!==y;);s.push(o),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(F=g+1,S.push(F),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),g=S.length;g--;){let C=u.slice(S[g],S[g+1]),T=s.pop();d.push([T,T+C.length-1]),t.splice(T,2,C)}for(d.reverse(),g=-1;++g<d.length;)p[A+d[g][0]]=A+d[g][1],A+=d[g][1]-d[g][0]-1;return p}var da={resolve:nw,tokenize:rw},tw={partial:!0,tokenize:iw};function nw(t){return no(t),t}function rw(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):R(u)?t.check(tw,l,s)(u):(t.consume(u),o)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function iw(t,e,n){let r=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),$(t,s,"linePrefix")}function s(l){if(l===null||R(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function ro(t,e,n,r,o,s,l,u,d){let p=d||Number.POSITIVE_INFINITY,h=0;return m;function m(C){return C===60?(t.enter(r),t.enter(o),t.enter(s),t.consume(C),t.exit(s),g):C===null||C===32||C===41||Yr(C)?n(C):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),F(C))}function g(C){return C===62?(t.enter(s),t.consume(C),t.exit(s),t.exit(o),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(u),g(C)):C===null||C===60||R(C)?n(C):(t.consume(C),C===92?A:y)}function A(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function F(C){return!h&&(C===null||C===41||me(C))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(C)):h<p&&C===40?(t.consume(C),h++,F):C===41?(t.consume(C),h--,F):C===null||C===32||C===40||Yr(C)?n(C):(t.consume(C),C===92?S:F)}function S(C){return C===40||C===41||C===92?(t.consume(C),F):F(C)}}function io(t,e,n,r,o,s){let l=this,u=0,d;return p;function p(y){return t.enter(r),t.enter(o),t.consume(y),t.exit(o),t.enter(s),h}function h(y){return u>999||y===null||y===91||y===93&&!d||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(s),t.enter(o),t.consume(y),t.exit(o),t.exit(r),e):R(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||R(y)||u++>999?(t.exit("chunkString"),h(y)):(t.consume(y),d||(d=!H(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function oo(t,e,n,r,o,s){let l;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(o),t.consume(g),t.exit(o),l=g===40?41:g,d):n(g)}function d(g){return g===l?(t.enter(o),t.consume(g),t.exit(o),t.exit(r),e):(t.enter(s),p(g))}function p(g){return g===l?(t.exit(s),d(l)):g===null?n(g):R(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),$(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||R(g)?(t.exit("chunkString"),p(g)):(t.consume(g),g===92?m:h)}function m(g){return g===l||g===92?(t.consume(g),h):h(g)}}function _n(t,e){let n;return r;function r(o){return R(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):H(o)?$(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}var fa={name:"definition",tokenize:sw},ow={partial:!0,tokenize:aw};function sw(t,e,n){let r=this,o;return s;function s(y){return t.enter("definition"),l(y)}function l(y){return io.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=Kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),d):n(y)}function d(y){return me(y)?_n(t,p)(y):p(y)}function p(y){return ro(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(ow,m,m)(y)}function m(y){return H(y)?$(t,g,"whitespace")(y):g(y)}function g(y){return y===null||R(y)?(t.exit("definition"),r.parser.defined.push(o),e(y)):n(y)}}function aw(t,e,n){return r;function r(u){return me(u)?_n(t,o)(u):n(u)}function o(u){return oo(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return H(u)?$(t,l,"whitespace")(u):l(u)}function l(u){return u===null||R(u)?e(u):n(u)}}var ha={name:"hardBreakEscape",tokenize:lw};function lw(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return R(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}var pa={name:"headingAtx",resolve:uw,tokenize:cw};function uw(t,e){let n=t.length-2,r=3,o,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},_e(t,r,n-r+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}function cw(t,e,n){let r=0;return o;function o(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(t.consume(h),l):h===null||me(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),d(h)):h===null||R(h)?(t.exit("atxHeading"),e(h)):H(h)?$(t,u,"whitespace")(h):(t.enter("atxHeadingText"),p(h))}function d(h){return h===35?(t.consume(h),d):(t.exit("atxHeadingSequence"),u(h))}function p(h){return h===null||h===35||me(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),p)}}var Dc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ma=["pre","script","style","textarea"];var ga={concrete:!0,name:"htmlFlow",resolveTo:hw,tokenize:pw},dw={partial:!0,tokenize:gw},fw={partial:!0,tokenize:mw};function hw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function pw(t,e,n){let r=this,o,s,l,u,d;return p;function p(b){return h(b)}function h(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),m}function m(b){return b===33?(t.consume(b),g):b===47?(t.consume(b),s=!0,F):b===63?(t.consume(b),o=3,r.interrupt?e:v):Je(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function g(b){return b===45?(t.consume(b),o=2,y):b===91?(t.consume(b),o=5,u=0,A):Je(b)?(t.consume(b),o=4,r.interrupt?e:v):n(b)}function y(b){return b===45?(t.consume(b),r.interrupt?e:v):n(b)}function A(b){let Re="CDATA[";return b===Re.charCodeAt(u++)?(t.consume(b),u===Re.length?r.interrupt?e:X:A):n(b)}function F(b){return Je(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function S(b){if(b===null||b===47||b===62||me(b)){let Re=b===47,Rt=l.toLowerCase();return!Re&&!s&&ma.includes(Rt)?(o=1,r.interrupt?e(b):X(b)):Dc.includes(l.toLowerCase())?(o=6,Re?(t.consume(b),C):r.interrupt?e(b):X(b)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?T(b):P(b))}return b===45||$e(b)?(t.consume(b),l+=String.fromCharCode(b),S):n(b)}function C(b){return b===62?(t.consume(b),r.interrupt?e:X):n(b)}function T(b){return H(b)?(t.consume(b),T):ne(b)}function P(b){return b===47?(t.consume(b),ne):b===58||b===95||Je(b)?(t.consume(b),B):H(b)?(t.consume(b),P):ne(b)}function B(b){return b===45||b===46||b===58||b===95||$e(b)?(t.consume(b),B):Y(b)}function Y(b){return b===61?(t.consume(b),E):H(b)?(t.consume(b),Y):P(b)}function E(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),d=b,Q):H(b)?(t.consume(b),E):j(b)}function Q(b){return b===d?(t.consume(b),d=null,G):b===null||R(b)?n(b):(t.consume(b),Q)}function j(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||me(b)?Y(b):(t.consume(b),j)}function G(b){return b===47||b===62||H(b)?P(b):n(b)}function ne(b){return b===62?(t.consume(b),ae):n(b)}function ae(b){return b===null||R(b)?X(b):H(b)?(t.consume(b),ae):n(b)}function X(b){return b===45&&o===2?(t.consume(b),ee):b===60&&o===1?(t.consume(b),ce):b===62&&o===4?(t.consume(b),Fe):b===63&&o===3?(t.consume(b),v):b===93&&o===5?(t.consume(b),Ge):R(b)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(dw,Pe,N)(b)):b===null||R(b)?(t.exit("htmlFlowData"),N(b)):(t.consume(b),X)}function N(b){return t.check(fw,U,Pe)(b)}function U(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),V}function V(b){return b===null||R(b)?N(b):(t.enter("htmlFlowData"),X(b))}function ee(b){return b===45?(t.consume(b),v):X(b)}function ce(b){return b===47?(t.consume(b),l="",he):X(b)}function he(b){if(b===62){let Re=l.toLowerCase();return ma.includes(Re)?(t.consume(b),Fe):X(b)}return Je(b)&&l.length<8?(t.consume(b),l+=String.fromCharCode(b),he):X(b)}function Ge(b){return b===93?(t.consume(b),v):X(b)}function v(b){return b===62?(t.consume(b),Fe):b===45&&o===2?(t.consume(b),v):X(b)}function Fe(b){return b===null||R(b)?(t.exit("htmlFlowData"),Pe(b)):(t.consume(b),Fe)}function Pe(b){return t.exit("htmlFlow"),e(b)}}function mw(t,e,n){let r=this;return o;function o(l){return R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function gw(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(ln,e,n)}}var wa={name:"htmlText",tokenize:ww};function ww(t,e,n){let r=this,o,s,l;return u;function u(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),d}function d(v){return v===33?(t.consume(v),p):v===47?(t.consume(v),Y):v===63?(t.consume(v),P):Je(v)?(t.consume(v),j):n(v)}function p(v){return v===45?(t.consume(v),h):v===91?(t.consume(v),s=0,A):Je(v)?(t.consume(v),T):n(v)}function h(v){return v===45?(t.consume(v),y):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),g):R(v)?(l=m,ce(v)):(t.consume(v),m)}function g(v){return v===45?(t.consume(v),y):m(v)}function y(v){return v===62?ee(v):v===45?g(v):m(v)}function A(v){let Fe="CDATA[";return v===Fe.charCodeAt(s++)?(t.consume(v),s===Fe.length?F:A):n(v)}function F(v){return v===null?n(v):v===93?(t.consume(v),S):R(v)?(l=F,ce(v)):(t.consume(v),F)}function S(v){return v===93?(t.consume(v),C):F(v)}function C(v){return v===62?ee(v):v===93?(t.consume(v),C):F(v)}function T(v){return v===null||v===62?ee(v):R(v)?(l=T,ce(v)):(t.consume(v),T)}function P(v){return v===null?n(v):v===63?(t.consume(v),B):R(v)?(l=P,ce(v)):(t.consume(v),P)}function B(v){return v===62?ee(v):P(v)}function Y(v){return Je(v)?(t.consume(v),E):n(v)}function E(v){return v===45||$e(v)?(t.consume(v),E):Q(v)}function Q(v){return R(v)?(l=Q,ce(v)):H(v)?(t.consume(v),Q):ee(v)}function j(v){return v===45||$e(v)?(t.consume(v),j):v===47||v===62||me(v)?G(v):n(v)}function G(v){return v===47?(t.consume(v),ee):v===58||v===95||Je(v)?(t.consume(v),ne):R(v)?(l=G,ce(v)):H(v)?(t.consume(v),G):ee(v)}function ne(v){return v===45||v===46||v===58||v===95||$e(v)?(t.consume(v),ne):ae(v)}function ae(v){return v===61?(t.consume(v),X):R(v)?(l=ae,ce(v)):H(v)?(t.consume(v),ae):G(v)}function X(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),o=v,N):R(v)?(l=X,ce(v)):H(v)?(t.consume(v),X):(t.consume(v),U)}function N(v){return v===o?(t.consume(v),o=void 0,V):v===null?n(v):R(v)?(l=N,ce(v)):(t.consume(v),N)}function U(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||me(v)?G(v):(t.consume(v),U)}function V(v){return v===47||v===62||me(v)?G(v):n(v)}function ee(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ce(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),he}function he(v){return H(v)?$(t,Ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):Ge(v)}function Ge(v){return t.enter("htmlTextData"),l(v)}}var Tn={name:"labelEnd",resolveAll:vw,resolveTo:Aw,tokenize:Cw},yw={tokenize:xw},bw={tokenize:Ew},kw={tokenize:Sw};function vw(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&_e(t,0,t.length,n),t}function Aw(t,e){let n=t.length,r=0,o,s,l,u;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);let d={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[s][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",d,e],["enter",p,e]],u=He(u,t.slice(s+1,s+r+3)),u=He(u,[["enter",h,e]]),u=He(u,or(e.parser.constructs.insideSpan.null,t.slice(s+r+4,l-3),e)),u=He(u,[["exit",h,e],t[l-2],t[l-1],["exit",p,e]]),u=He(u,t.slice(l+1)),u=He(u,[["exit",d,e]]),_e(t,s,t.length,u),t}function Cw(t,e,n){let r=this,o=r.events.length,s,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return u;function u(g){return s?s._inactive?m(g):(l=r.parser.defined.includes(Kt(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),d):n(g)}function d(g){return g===40?t.attempt(yw,h,l?h:m)(g):g===91?t.attempt(bw,h,l?p:m)(g):l?h(g):m(g)}function p(g){return t.attempt(kw,h,m)(g)}function h(g){return e(g)}function m(g){return s._balanced=!0,n(g)}}function xw(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),o}function o(m){return me(m)?_n(t,s)(m):s(m)}function s(m){return m===41?h(m):ro(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return me(m)?_n(t,d)(m):h(m)}function u(m){return n(m)}function d(m){return m===34||m===39||m===40?oo(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function p(m){return me(m)?_n(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function Ew(t,e,n){let r=this;return o;function o(u){return io.call(r,t,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function Sw(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}var ya={name:"labelStartImage",resolveAll:Tn.resolveAll,tokenize:_w};function _w(t,e,n){let r=this;return o;function o(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var ba={name:"labelStartLink",resolveAll:Tn.resolveAll,tokenize:Tw};function Tw(t,e,n){let r=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var $r={name:"lineEnding",tokenize:Fw};function Fw(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),$(t,e,"linePrefix")}}var Fn={name:"thematicBreak",tokenize:Pw};function Pw(t,e,n){let r=0,o;return s;function s(p){return t.enter("thematicBreak"),l(p)}function l(p){return o=p,u(p)}function u(p){return p===o?(t.enter("thematicBreakSequence"),d(p)):r>=3&&(p===null||R(p))?(t.exit("thematicBreak"),e(p)):n(p)}function d(p){return p===o?(t.consume(p),r++,d):(t.exit("thematicBreakSequence"),H(p)?$(t,u,"whitespace")(p):u(p))}}var Oe={continuation:{tokenize:Ow},exit:Rw,name:"list",tokenize:Iw},Dw={partial:!0,tokenize:Nw},Mw={partial:!0,tokenize:Lw};function Iw(t,e,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){let A=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Vr(y)){if(r.containerState.type||(r.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(Fn,n,p)(y):p(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),d(y)}return n(y)}function d(y){return Vr(y)&&++l<10?(t.consume(y),d):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),p(y)):n(y)}function p(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(ln,r.interrupt?n:h,t.attempt(Dw,g,m))}function h(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return H(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Ow(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(ln,o,s);function o(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,$(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!H(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Mw,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,$(t,t.attempt(Oe,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Lw(t,e,n){let r=this;return $(t,o,"listItemIndent",r.containerState.size+1);function o(s){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(s):n(s)}}function Rw(t){t.exit(this.containerState.type)}function Nw(t,e,n){let r=this;return $(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let l=r.events[r.events.length-1];return!H(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}var so={name:"setextUnderline",resolveTo:Ww,tokenize:Bw};function Ww(t,e){let n=t.length,r,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let l={type:"setextHeading",start:{...t[o][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",l,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function Bw(t,e,n){let r=this,o;return s;function s(p){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),o=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===o?(t.consume(p),u):(t.exit("setextHeadingLineSequence"),H(p)?$(t,d,"lineSuffix")(p):d(p))}function d(p){return p===null||R(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}var Mc={tokenize:Yw};function Yw(t){let e=this,n=t.attempt(ln,r,t.attempt(this.parser.constructs.flowInitial,o,$(t,t.attempt(this.parser.constructs.flow,o,t.attempt(da,o)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var Ic={resolveAll:Nc()},Oc=Rc("string"),Lc=Rc("text");function Rc(t){return{resolveAll:Nc(t==="text"?Vw:void 0),tokenize:e};function e(n){let r=this,o=this.parser.constructs[t],s=n.attempt(o,l,u);return l;function l(h){return p(h)?s(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return p(h)?(n.exit("data"),s(h)):(n.consume(h),d)}function p(h){if(h===null)return!0;let m=o[h],g=-1;if(m)for(;++g<m.length;){let y=m[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Nc(t){return e;function e(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,r):n}}function Vw(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],o=e.sliceStream(r),s=o.length,l=-1,u=0,d;for(;s--;){let p=o[s];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(p===-2)d=!0,u++;else if(p!==-1){s++;break}}if(u){let p={type:n===t.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}var ka={};au(ka,{attentionMarkers:()=>Kw,contentInitial:()=>Uw,disable:()=>Zw,document:()=>zw,flow:()=>$w,flowInitial:()=>Hw,insideSpan:()=>qw,string:()=>jw,text:()=>Gw});var zw={42:Oe,43:Oe,45:Oe,48:Oe,49:Oe,50:Oe,51:Oe,52:Oe,53:Oe,54:Oe,55:Oe,56:Oe,57:Oe,62:Qi},Uw={91:fa},Hw={[-2]:Ur,[-1]:Ur,32:Ur},$w={35:pa,42:Fn,45:[so,Fn],60:ga,61:so,95:Fn,96:eo,126:eo},jw={38:Xi,92:Ji},Gw={[-5]:$r,[-4]:$r,[-3]:$r,33:ya,38:Xi,42:zr,60:[ua,wa],91:ba,92:[ha,Ji],93:Tn,95:zr,96:ca},qw={null:[zr,Ic]},Kw={null:[42,95]},Zw={null:[]};function Wc(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],l=[],u=[],d=!0,p={attempt:G(Q),check:G(j),consume:B,enter:Y,exit:E,interrupt:G(j,{interrupt:!0})},h={code:null,containerState:{},defineSkip:C,events:[],now:S,parser:t,previous:null,sliceSerialize:A,sliceStream:F,write:y},m=e.tokenize.call(h,p),g;return e.resolveAll&&s.push(e),h;function y(N){return l=He(l,N),T(),l[l.length-1]!==null?[]:(ne(e,0),h.events=or(s,h.events,h),h.events)}function A(N,U){return Jw(F(N),U)}function F(N){return Qw(l,N)}function S(){let{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}=r;return{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}}function C(N){o[N.line]=N.column,X()}function T(){let N;for(;r._index<l.length;){let U=l[r._index];if(typeof U=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<U.length;)P(U.charCodeAt(r._bufferIndex));else P(U)}}function P(N){d=void 0,g=N,m=m(N)}function B(N){R(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,X()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=N,d=!0}function Y(N,U){let V=U||{};return V.type=N,V.start=S(),h.events.push(["enter",V,h]),u.push(V),V}function E(N){let U=u.pop();return U.end=S(),h.events.push(["exit",U,h]),U}function Q(N,U){ne(N,U.from)}function j(N,U){U.restore()}function G(N,U){return V;function V(ee,ce,he){let Ge,v,Fe,Pe;return Array.isArray(ee)?Re(ee):"tokenize"in ee?Re([ee]):b(ee);function b(we){return wn;function wn(pt){let Nt=pt!==null&&we[pt],tn=pt!==null&&we.null,br=[...Array.isArray(Nt)?Nt:Nt?[Nt]:[],...Array.isArray(tn)?tn:tn?[tn]:[]];return Re(br)(pt)}}function Re(we){return Ge=we,v=0,we.length===0?he:Rt(we[v])}function Rt(we){return wn;function wn(pt){return Pe=ae(),Fe=we,we.partial||(h.currentConstruct=we),we.name&&h.parser.constructs.disable.null.includes(we.name)?gn(pt):we.tokenize.call(U?Object.assign(Object.create(h),U):h,p,en,gn)(pt)}}function en(we){return d=!0,N(Fe,Pe),ce}function gn(we){return d=!0,Pe.restore(),++v<Ge.length?Rt(Ge[v]):he}}}function ne(N,U){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&_e(h.events,U,h.events.length-U,N.resolve(h.events.slice(U),h)),N.resolveTo&&(h.events=N.resolveTo(h.events,h))}function ae(){let N=S(),U=h.previous,V=h.currentConstruct,ee=h.events.length,ce=Array.from(u);return{from:ee,restore:he};function he(){r=N,h.previous=U,h.currentConstruct=V,h.events.length=ee,u=ce,X()}}function X(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function Qw(t,e){let n=e.start._index,r=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex,l;if(n===o)l=[t[n].slice(r,s)];else{if(l=t.slice(n,o),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}s>0&&l.push(t[o].slice(0,s))}return l}function Jw(t,e){let n=-1,r=[],o;for(;++n<t.length;){let s=t[n],l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,r.push(l)}return r.join("")}function va(t){let r={constructs:kc([ka,...(t||{}).extensions||[]]),content:o(Sc),defined:[],document:o(Tc),flow:o(Mc),lazy:{},string:o(Oc),text:o(Lc)};return r;function o(s){return l;function l(u){return Wc(r,s,u)}}}function Aa(t){for(;!no(t););return t}var Bc=/[\0\t\n\r]/g;function Ca(){let t=1,e="",n=!0,r;return o;function o(s,l,u){let d=[],p,h,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(Bc.lastIndex=m,p=Bc.exec(s),g=p&&p.index!==void 0?p.index:s.length,y=s.charCodeAt(g),!p){e=s.slice(m);break}if(y===10&&m===g&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),m<g&&(d.push(s.slice(m,g)),t+=g-m),y){case 0:{d.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,d.push(-2);t++<h;)d.push(-1);break}case 10:{d.push(-4),t=1;break}default:r=!0,t=1}m=g+1}return u&&(r&&d.push(-5),e&&d.push(e),d.push(null)),d}}var Xw=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ao(t){return t.replace(Xw,ey)}function ey(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return Zi(n.slice(s?2:1),s?16:10)}return rr(n)||t}function un(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Yc(t.position):"start"in t||"end"in t?Yc(t):"line"in t||"column"in t?xa(t):""}function xa(t){return Vc(t&&t.line)+":"+Vc(t&&t.column)}function Yc(t){return xa(t&&t.start)+"-"+xa(t&&t.end)}function Vc(t){return t&&typeof t=="number"?t:1}var Uc={}.hasOwnProperty;function Ea(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ty(n)(Aa(va(n).document().write(Ca()(t,e,!0))))}function ty(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ne),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(si),blockQuote:s(pt),characterEscape:G,characterReference:G,codeFenced:s(Nt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Nt,l),codeText:s(tn,l),codeTextData:G,data:G,codeFlowValue:G,definition:s(br),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(ys),hardBreakEscape:s(ai),hardBreakTrailing:s(ai),htmlFlow:s(li,l),htmlFlowData:G,htmlText:s(li,l),htmlTextData:G,image:s(ui),label:l,link:s(Ne),listItem:s(bs),listItemValue:g,listOrdered:s(Rn,m),listUnordered:s(Rn),paragraph:s(ks),reference:b,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(si),strong:s(ci),thematicBreak:s(di)},exit:{atxHeading:d(),atxHeadingSequence:Y,autolink:d(),autolinkEmail:wn,autolinkProtocol:we,blockQuote:d(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Rt,characterReferenceMarkerNumeric:Rt,characterReferenceValue:en,characterReference:gn,codeFenced:d(S),codeFencedFence:F,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:ne,codeIndented:d(C),codeText:d(V),codeTextData:ne,data:ne,definition:d(),definitionDestinationString:B,definitionLabelString:T,definitionTitleString:P,emphasis:d(),hardBreakEscape:d(X),hardBreakTrailing:d(X),htmlFlow:d(N),htmlFlowData:ne,htmlText:d(U),htmlTextData:ne,image:d(ce),label:Ge,labelText:he,lineEnding:ae,link:d(ee),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Re,resourceDestinationString:v,resourceTitleString:Fe,resource:Pe,setextHeading:d(j),setextHeadingLineSequence:Q,setextHeadingText:E,strong:d(),thematicBreak:d()}};Hc(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(_){let M={type:"root",children:[]},I={stack:[M],tokenStack:[],config:e,enter:u,exit:p,buffer:l,resume:h,data:n},q=[],re=-1;for(;++re<_.length;)if(_[re][1].type==="listOrdered"||_[re][1].type==="listUnordered")if(_[re][0]==="enter")q.push(re);else{let De=q.pop();re=o(_,De,re)}for(re=-1;++re<_.length;){let De=e[_[re][0]];Uc.call(De,_[re][1].type)&&De[_[re][1].type].call(Object.assign({sliceSerialize:_[re][2].sliceSerialize},I),_[re][1])}if(I.tokenStack.length>0){let De=I.tokenStack[I.tokenStack.length-1];(De[1]||zc).call(I,void 0,De[0])}for(M.position={start:cn(_.length>0?_[0][1].start:{line:1,column:1,offset:0}),end:cn(_.length>0?_[_.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<e.transforms.length;)M=e.transforms[re](M)||M;return M}function o(_,M,I){let q=M-1,re=-1,De=!1,mt,qe,tt,St;for(;++q<=I;){let Be=_[q];switch(Be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Be[0]==="enter"?re++:re--,St=void 0;break}case"lineEndingBlank":{Be[0]==="enter"&&(mt&&!St&&!re&&!tt&&(tt=q),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!re&&Be[0]==="enter"&&Be[1].type==="listItemPrefix"||re===-1&&Be[0]==="exit"&&(Be[1].type==="listUnordered"||Be[1].type==="listOrdered")){if(mt){let gt=q;for(qe=void 0;gt--;){let wt=_[gt];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;qe&&(_[qe][1].type="lineEndingBlank",De=!0),wt[1].type="lineEnding",qe=gt}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}tt&&(!qe||tt<qe)&&(mt._spread=!0),mt.end=Object.assign({},qe?_[qe][1].start:Be[1].end),_.splice(qe||q,0,["exit",mt,Be[2]]),q++,I++}if(Be[1].type==="listItemPrefix"){let gt={type:"listItem",_spread:!1,start:Object.assign({},Be[1].start),end:void 0};mt=gt,_.splice(q,0,["enter",gt,Be[2]]),q++,I++,tt=void 0,St=!0}}}return _[M][1]._spread=De,I}function s(_,M){return I;function I(q){u.call(this,_(q),q),M&&M.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(_,M,I){this.stack[this.stack.length-1].children.push(_),this.stack.push(_),this.tokenStack.push([M,I||void 0]),_.position={start:cn(M.start),end:void 0}}function d(_){return M;function M(I){_&&_.call(this,I),p.call(this,I)}}function p(_,M){let I=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==_.type&&(M?M.call(this,_,q[0]):(q[1]||zc).call(this,_,q[0]));else throw new Error("Cannot close `"+_.type+"` ("+un({start:_.start,end:_.end})+"): it\u2019s not open");I.position.end=cn(_.end)}function h(){return Sn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(_){if(this.data.expectingFirstListItemValue){let M=this.stack[this.stack.length-2];M.start=Number.parseInt(this.sliceSerialize(_),10),this.data.expectingFirstListItemValue=void 0}}function y(){let _=this.resume(),M=this.stack[this.stack.length-1];M.lang=_}function A(){let _=this.resume(),M=this.stack[this.stack.length-1];M.meta=_}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_.replace(/(\r?\n|\r)$/g,"")}function T(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=Kt(this.sliceSerialize(_)).toLowerCase()}function P(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function B(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function Y(_){let M=this.stack[this.stack.length-1];if(!M.depth){let I=this.sliceSerialize(_).length;M.depth=I}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function Q(_){let M=this.stack[this.stack.length-1];M.depth=this.sliceSerialize(_).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function G(_){let I=this.stack[this.stack.length-1].children,q=I[I.length-1];(!q||q.type!=="text")&&(q=We(),q.position={start:cn(_.start),end:void 0},I.push(q)),this.stack.push(q)}function ne(_){let M=this.stack.pop();M.value+=this.sliceSerialize(_),M.position.end=cn(_.end)}function ae(_){let M=this.stack[this.stack.length-1];if(this.data.atHardBreak){let I=M.children[M.children.length-1];I.position.end=cn(_.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(M.type)&&(G.call(this,_),ne.call(this,_))}function X(){this.data.atHardBreak=!0}function N(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function U(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function V(){let _=this.resume(),M=this.stack[this.stack.length-1];M.value=_}function ee(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function ce(){let _=this.stack[this.stack.length-1];if(this.data.inReference){let M=this.data.referenceType||"shortcut";_.type+="Reference",_.referenceType=M,delete _.url,delete _.title}else delete _.identifier,delete _.label;this.data.referenceType=void 0}function he(_){let M=this.sliceSerialize(_),I=this.stack[this.stack.length-2];I.label=ao(M),I.identifier=Kt(M).toLowerCase()}function Ge(){let _=this.stack[this.stack.length-1],M=this.resume(),I=this.stack[this.stack.length-1];if(this.data.inReference=!0,I.type==="link"){let q=_.children;I.children=q}else I.alt=M}function v(){let _=this.resume(),M=this.stack[this.stack.length-1];M.url=_}function Fe(){let _=this.resume(),M=this.stack[this.stack.length-1];M.title=_}function Pe(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function Re(_){let M=this.resume(),I=this.stack[this.stack.length-1];I.label=M,I.identifier=Kt(this.sliceSerialize(_)).toLowerCase(),this.data.referenceType="full"}function Rt(_){this.data.characterReferenceType=_.type}function en(_){let M=this.sliceSerialize(_),I=this.data.characterReferenceType,q;I?(q=Zi(M,I==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=rr(M);let re=this.stack[this.stack.length-1];re.value+=q}function gn(_){let M=this.stack.pop();M.position.end=cn(_.end)}function we(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url=this.sliceSerialize(_)}function wn(_){ne.call(this,_);let M=this.stack[this.stack.length-1];M.url="mailto:"+this.sliceSerialize(_)}function pt(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function tn(){return{type:"inlineCode",value:""}}function br(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ys(){return{type:"emphasis",children:[]}}function si(){return{type:"heading",depth:0,children:[]}}function ai(){return{type:"break"}}function li(){return{type:"html",value:""}}function ui(){return{type:"image",title:null,url:"",alt:null}}function Ne(){return{type:"link",title:null,url:"",children:[]}}function Rn(_){return{type:"list",ordered:_.type==="listOrdered",start:null,spread:_._spread,children:[]}}function bs(_){return{type:"listItem",spread:_._spread,checked:null,children:[]}}function ks(){return{type:"paragraph",children:[]}}function ci(){return{type:"strong",children:[]}}function We(){return{type:"text",value:""}}function di(){return{type:"thematicBreak"}}}function cn(t){return{line:t.line,column:t.column,offset:t.offset}}function Hc(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Hc(t,r):ny(t,r)}}function ny(t,e){let n;for(n in e)if(Uc.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function zc(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+un({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+un({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+un({start:e.start,end:e.end})+") is still open")}function sr(t){let e=this;e.parser=n;function n(r){return Ea(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var $c={}.hasOwnProperty;function jc(t,e){let n=e||{};function r(o,...s){let l=r.invalid,u=r.handlers;if(o&&$c.call(o,t)){let d=String(o[t]);l=$c.call(u,d)?u[d]:r.unknown}if(l)return l.call(this,o,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var ry={}.hasOwnProperty;function Sa(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Sa(t,e.extensions[n]);for(r in e)if(ry.call(e,r))switch(r){case"extensions":break;case"unsafe":{Gc(t[r],e[r]);break}case"join":{Gc(t[r],e[r]);break}case"handlers":{iy(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Gc(t,e){e&&t.push(...e)}function iy(t,e){e&&Object.assign(t,e)}function qc(t,e,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let l=n.indentLines(n.containerFlow(t,s.current()),oy);return o(),l}function oy(t,e,n){return">"+(n?"":" ")+t}function lo(t,e){return Kc(t,e.inConstruct,!0)&&!Kc(t,e.notInConstruct,!1)}function Kc(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function _a(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&lo(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Zc(t,e){let n=String(t),r=n.indexOf(e),o=r,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>l&&(l=s):s=1,o=r+e.length,r=n.indexOf(e,o);return l}function jr(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Qc(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Jc(t,e,n,r){let o=Qc(n),s=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(jr(t,n)){let m=n.enter("codeIndented"),g=n.indentLines(s,sy);return m(),g}let u=n.createTracker(r),d=o.repeat(Math.max(Zc(s,o)+1,3)),p=n.enter("codeFenced"),h=u.move(d);if(t.lang){let m=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),s&&(h+=u.move(s+`
`)),h+=u.move(d),p(),h}function sy(t,e,n){return(n?"":"    ")+t}function ar(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Xc(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),d=n.createTracker(r),p=d.move("[");return p+=d.move(n.safe(n.associationId(t),{before:p,after:"]",...d.current()})),p+=d.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...d.current()}))),u(),t.title&&(u=n.enter(`title${s}`),p+=d.move(" "+o),p+=d.move(n.safe(t.title,{before:p,after:o,...d.current()})),p+=d.move(o),u()),l(),p}function ed(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Xe(t){return"&#x"+t.toString(16).toUpperCase()+";"}function lr(t,e,n){let r=ir(t),o=ir(e);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ta.peek=ay;function Ta(t,e,n,r){let o=ed(n),s=n.enter("emphasis"),l=n.createTracker(r),u=l.move(o),d=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),p=d.charCodeAt(0),h=lr(r.before.charCodeAt(r.before.length-1),p,o);h.inside&&(d=Xe(p)+d.slice(1));let m=d.charCodeAt(d.length-1),g=lr(r.after.charCodeAt(0),m,o);g.inside&&(d=d.slice(0,-1)+Xe(m));let y=l.move(o);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},u+d+y}function ay(t,e,n){return n.options.emphasis||"*"}var ur=(function(t){if(t==null)return dy;if(typeof t=="function")return uo(t);if(typeof t=="object")return Array.isArray(t)?ly(t):uy(t);if(typeof t=="string")return cy(t);throw new Error("Expected function, string, or object as test")});function ly(t){let e=[],n=-1;for(;++n<t.length;)e[n]=ur(t[n]);return uo(r);function r(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}function uy(t){let e=t;return uo(n);function n(r){let o=r,s;for(s in t)if(o[s]!==e[s])return!1;return!0}}function cy(t){return uo(e);function e(n){return n&&n.type===t}}function uo(t){return e;function e(n,r,o){return!!(fy(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function dy(){return!0}function fy(t){return t!==null&&typeof t=="object"&&"type"in t}function td(t){return"\x1B[33m"+t+"\x1B[39m"}var nd=[],co=!0,Pn=!1,fo="skip";function Fa(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;let s=ur(o),l=r?-1:1;u(t,void 0,[])();function u(d,p,h){let m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){let y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+td(d.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=nd,A,F,S;if((!e||s(d,p,h[h.length-1]||void 0))&&(y=hy(n(d,h)),y[0]===Pn))return y;if("children"in d&&d.children){let C=d;if(C.children&&y[0]!==fo)for(F=(r?C.children.length:-1)+l,S=h.concat(C);F>-1&&F<C.children.length;){let T=C.children[F];if(A=u(T,F,S)(),A[0]===Pn)return A;F=typeof A[1]=="number"?A[1]:F+l}}return y}}}function hy(t){return Array.isArray(t)?t:typeof t=="number"?[co,t]:t==null?nd:[t]}function Gr(t,e,n,r){let o,s,l;typeof e=="function"&&typeof n!="function"?(s=void 0,l=e,o=n):(s=e,l=n,o=r),Fa(t,s,u,o);function u(d,p){let h=p[p.length-1],m=h?h.children.indexOf(d):void 0;return l(d,m,h)}}function ho(t,e){let n=!1;return Gr(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Pn}),!!((!t.depth||t.depth<3)&&Sn(t)&&(e.options.setext||n))}function rd(t,e,n,r){let o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(ho(t,n)){let h=n.enter("headingSetext"),m=n.enter("phrasing"),g=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),h(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}let l="#".repeat(o),u=n.enter("headingAtx"),d=n.enter("phrasing");s.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(p)&&(p=Xe(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),d(),u(),p}Pa.peek=py;function Pa(t){return t.value||""}function py(){return"<"}Da.peek=my;function Da(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),d=n.createTracker(r),p=d.move("![");return p+=d.move(n.safe(t.alt,{before:p,after:"]",...d.current()})),p+=d.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=d.move("<"),p+=d.move(n.safe(t.url,{before:p,after:">",...d.current()})),p+=d.move(">")):(u=n.enter("destinationRaw"),p+=d.move(n.safe(t.url,{before:p,after:t.title?" ":")",...d.current()}))),u(),t.title&&(u=n.enter(`title${s}`),p+=d.move(" "+o),p+=d.move(n.safe(t.title,{before:p,after:o,...d.current()})),p+=d.move(o),u()),p+=d.move(")"),l(),p}function my(){return"!"}Ma.peek=gy;function Ma(t,e,n,r){let o=t.referenceType,s=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("!["),p=n.safe(t.alt,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,s(),o==="full"||!p||p!==m?d+=u.move(m+"]"):o==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function gy(){return"!"}Ia.peek=wy;function Ia(t,e,n){let r=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let l=n.unsafe[s],u=n.compilePattern(l),d;if(l.atBreak)for(;d=u.exec(r);){let p=d.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(d.index+1)}}return o+r+o}function wy(){return"`"}function Oa(t,e){let n=Sn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}La.peek=yy;function La(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,d;if(Oa(t,n)){let h=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=h,m}u=n.enter("link"),d=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),d(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(d=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(d=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),d(),t.title&&(d=n.enter(`title${s}`),p+=l.move(" "+o),p+=l.move(n.safe(t.title,{before:p,after:o,...l.current()})),p+=l.move(o),d()),p+=l.move(")"),u(),p}function yy(t,e,n){return Oa(t,n)?"<":"["}Ra.peek=by;function Ra(t,e,n,r){let o=t.referenceType,s=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),d=u.move("["),p=n.containerPhrasing(t,{before:d,after:"]",...u.current()});d+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:d,after:"]",...u.current()});return l(),n.stack=h,s(),o==="full"||!p||p!==m?d+=u.move(m+"]"):o==="shortcut"?d=d.slice(0,-1):d+=u.move("]"),d}function by(){return"["}function cr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function id(t){let e=cr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function od(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function po(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function sd(t,e,n,r){let o=n.enter("list"),s=n.bulletCurrent,l=t.ordered?od(n):cr(n),u=t.ordered?l==="."?")":".":id(n),d=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(d=!0),po(n)===l&&h){let m=-1;for(;++m<t.children.length;){let g=t.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){d=!0;break}}}}d&&(l=u),n.bulletCurrent=l;let p=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=s,o(),p}function ad(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function ld(t,e,n,r){let o=ad(n),s=n.bulletCurrent||cr(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let l=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(s+" ".repeat(l-s.length)),u.shift(l);let d=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,u.current()),h);return d(),p;function h(m,g,y){return g?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function ud(t,e,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(t,r);return s(),o(),l}var Na=ur(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function cd(t,e,n,r){return(t.children.some(function(l){return Na(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function dd(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Wa.peek=ky;function Wa(t,e,n,r){let o=dd(n),s=n.enter("strong"),l=n.createTracker(r),u=l.move(o+o),d=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),p=d.charCodeAt(0),h=lr(r.before.charCodeAt(r.before.length-1),p,o);h.inside&&(d=Xe(p)+d.slice(1));let m=d.charCodeAt(d.length-1),g=lr(r.after.charCodeAt(0),m,o);g.inside&&(d=d.slice(0,-1)+Xe(m));let y=l.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},u+d+y}function ky(t,e,n){return n.options.strong||"*"}function fd(t,e,n,r){return n.safe(t.value,r)}function hd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function pd(t,e,n){let r=(po(n)+(n.options.ruleSpaces?" ":"")).repeat(hd(n));return n.options.ruleSpaces?r.slice(0,-1):r}var md={blockquote:qc,break:_a,code:Jc,definition:Xc,emphasis:Ta,hardBreak:_a,heading:rd,html:Pa,image:Da,imageReference:Ma,inlineCode:Ia,link:La,linkReference:Ra,list:sd,listItem:ld,paragraph:ud,root:cd,strong:Wa,text:fd,thematicBreak:pd};var gd=[vy];function vy(t,e,n,r){if(e.type==="code"&&jr(e,r)&&(t.type==="list"||t.type===e.type&&jr(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ho(e,r))?void 0:n.spread?1:0}var Dn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],wd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Dn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Dn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Dn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Dn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Dn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Dn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Dn},{atBreak:!0,character:"~"}];function yd(t){return t.label||!t.identifier?t.label||"":ao(t.identifier)}function bd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function kd(t,e,n){let r=e.indexStack,o=t.children||[],s=[],l=-1,u=n.before,d;r.push(-1);let p=e.createTracker(n);for(;++l<o.length;){let h=o[l],m;if(r[r.length-1]=l,l+1<o.length){let A=e.handle.handlers[o[l+1].type];A&&A.peek&&(A=A.peek),m=A?A(o[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else m=n.after;s.length>0&&(u==="\r"||u===`
`)&&h.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",p=e.createTracker(n),p.move(s.join("")));let g=e.handle(h,t,e,{...p.current(),after:m,before:u});d&&d===g.slice(0,1)&&(g=Xe(d.charCodeAt(0))+g.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,d=void 0,y&&(s.length>0&&y.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Xe(u.charCodeAt(0))),y.after&&(d=m)),p.move(g),s.push(g),u=g.slice(-1)}return r.pop(),s.join("")}function vd(t,e,n){let r=e.indexStack,o=t.children||[],s=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<o.length;){let d=o[u];r[r.length-1]=u,l.push(s.move(e.handle(d,t,e,{before:`
`,after:`
`,...s.current()}))),d.type!=="list"&&(e.bulletLastUsed=void 0),u<o.length-1&&l.push(s.move(Ay(d,o[u+1],t,e)))}return r.pop(),l.join("")}function Ay(t,e,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var Cy=/\r?\n|\r/g;function Ad(t,e){let n=[],r=0,o=0,s;for(;s=Cy.exec(t);)l(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,o,!u))}}function xd(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),o=[],s=[],l={},u=-1;for(;++u<t.unsafe.length;){let h=t.unsafe[u];if(!lo(t.stack,h))continue;let m=t.compilePattern(h),g;for(;g=m.exec(r);){let y="before"in h||!!h.atBreak,A="after"in h,F=g.index+(y?g[1].length:0);o.includes(F)?(l[F].before&&!y&&(l[F].before=!1),l[F].after&&!A&&(l[F].after=!1)):(o.push(F),l[F]={before:y,after:A})}}o.sort(xy);let d=n.before?n.before.length:0,p=r.length-(n.after?n.after.length:0);for(u=-1;++u<o.length;){let h=o[u];h<d||h>=p||h+1<p&&o[u+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||o[u-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(d!==h&&s.push(Cd(r.slice(d,h),"\\")),d=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?s.push("\\"):(s.push(Xe(r.charCodeAt(h))),d++))}return s.push(Cd(r.slice(d,p),n.after)),s.join("")}function xy(t,e){return t-e}function Cd(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=t+e,l=-1,u=0,d;for(;d=n.exec(s);)r.push(d.index);for(;++l<r.length;)u!==r[l]&&o.push(t.slice(u,r[l])),o.push("\\"),u=r[l];return o.push(t.slice(u)),o.join("")}function Ed(t){let e=t||{},n=e.now||{},r=e.lineShift||0,o=n.line||1,s=n.column||1;return{move:d,current:l,shift:u};function l(){return{now:{line:o,column:s},lineShift:r}}function u(p){r+=p}function d(p){let h=p||"",m=h.split(/\r?\n|\r/g),g=m[m.length-1];return o+=m.length-1,s=m.length===1?s+g.length:1+g.length+r,h}}function Ba(t,e){let n=e||{},r={associationId:yd,containerPhrasing:Ty,containerFlow:Fy,createTracker:Ed,compilePattern:bd,enter:s,handlers:{...md},handle:void 0,indentLines:Ad,indexStack:[],join:[...gd],options:{},safe:Py,stack:[],unsafe:[...wd]};Sa(r,n),r.options.tightDefinitions&&r.join.push(_y),r.handle=jc("type",{invalid:Ey,unknown:Sy,handlers:r.handlers});let o=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function Ey(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Sy(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function _y(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Ty(t,e){return kd(t,this,e)}function Fy(t,e){return vd(t,this,e)}function Py(t,e){return xd(this,t,e)}function mo(t){let e=this;e.compiler=n;function n(r){return Ba(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Ya(t){if(t)throw t}var bo=rt(Od(),1);function qr(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Va(){let t=[],e={run:n,use:r};return e;function n(...o){let s=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(d,...p){let h=t[++s],m=-1;if(d){l(d);return}for(;++m<o.length;)(p[m]===null||p[m]===void 0)&&(p[m]=o[m]);o=p,h?Ld(h,u)(...p):l(null,...p)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function Ld(t,e){let n;return r;function r(...l){let u=t.length>l.length,d;u&&l.push(o);try{d=t.apply(this,l)}catch(p){let h=p;if(u&&n)throw h;return o(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(s,o):d instanceof Error?o(d):s(d))}function o(l,...u){n||(n=!0,e(l,...u))}function s(l){o(null,l)}}var Ee=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(l=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let d=r.indexOf(":");d===-1?s.ruleId=r:(s.source=r.slice(0,d),s.ruleId=r.slice(d+1))}if(!s.place&&s.ancestors&&s.ancestors){let d=s.ancestors[s.ancestors.length-1];d&&(s.place=d.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=u?u.line:void 0,this.name=un(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}};Ee.prototype.file="";Ee.prototype.name="";Ee.prototype.reason="";Ee.prototype.message="";Ee.prototype.stack="";Ee.prototype.column=void 0;Ee.prototype.line=void 0;Ee.prototype.ancestors=void 0;Ee.prototype.cause=void 0;Ee.prototype.fatal=void 0;Ee.prototype.place=void 0;Ee.prototype.ruleId=void 0;Ee.prototype.source=void 0;var dt=rt(require("node:path"),1);var za=rt(require("node:process"),1);var Ua=require("node:url");function wo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var Ha=["history","path","basename","stem","extname","dirname"],Kr=class{constructor(e){let n;e?wo(e)?n={path:e}:typeof e=="string"||Dy(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":za.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ha.length;){let s=Ha[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)Ha.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?dt.default.basename(this.path):void 0}set basename(e){ja(e,"basename"),$a(e,"basename"),this.path=dt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?dt.default.dirname(this.path):void 0}set dirname(e){Rd(this.basename,"dirname"),this.path=dt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?dt.default.extname(this.path):void 0}set extname(e){if($a(e,"extname"),Rd(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){wo(e)&&(e=(0,Ua.fileURLToPath)(e)),ja(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?dt.default.basename(this.path,this.extname):void 0}set stem(e){ja(e,"stem"),$a(e,"stem"),this.path=dt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){let o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){let o=new Ee(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function $a(t,e){if(t&&t.includes(dt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+dt.default.sep+"`")}function ja(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Rd(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Dy(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Nd=(function(t){let r=this.constructor.prototype,o=r[t],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,r),s});var My={}.hasOwnProperty,Za=class t extends Nd{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Va()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,bo.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ka("data",this.frozen),this.namespace[e]=n,this):My.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ka("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=yo(e),r=this.parser||this.Parser;return Ga("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Ga("process",this.parser||this.Parser),qa("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){let u=yo(e),d=r.parse(u);r.run(d,u,function(h,m,g){if(h||!m||!g)return p(h);let y=m,A=r.stringify(y,g);Oy(A)?g.value=A:g.result=A,p(h,g)});function p(h,m){h||!m?l(h):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Ga("processSync",this.parser||this.Parser),qa("processSync",this.compiler||this.Compiler),this.process(e,o),Bd("processSync","process",n),r;function o(s,l){n=!0,Ya(s),r=l}}run(e,n,r){Wd(e),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,u){let d=yo(n);o.run(e,d,p);function p(h,m,g){let y=m||e;h?u(h):l?l(y):r(void 0,y,g)}}}runSync(e,n){let r=!1,o;return this.run(e,n,s),Bd("runSync","run",r),o;function s(l,u){Ya(l),o=u,r=!0}}stringify(e,n){this.freeze();let r=yo(n),o=this.compiler||this.Compiler;return qa("stringify",o),Wd(e),o(e,r)}use(e,...n){let r=this.attachers,o=this.namespace;if(Ka("use",this.frozen),e!=null)if(typeof e=="function")d(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(p){if(typeof p=="function")d(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[h,...m]=p;d(h,m)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(o.settings=(0,bo.default)(!0,o.settings,p.settings))}function u(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){let m=p[h];s(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function d(p,h){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===p){g=m;break}if(g===-1)r.push([p,...h]);else if(h.length>0){let[y,...A]=h,F=r[g][1];qr(F)&&qr(y)&&(y=(0,bo.default)(!0,F,y)),r[g]=[p,y,...A]}}}},Qa=new Za().freeze();function Ga(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function qa(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ka(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Wd(t){if(!qr(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Bd(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function yo(t){return Iy(t)?t:new Kr(t)}function Iy(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Oy(t){return typeof t=="string"||Ly(t)}function Ly(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Yd=Qa().use(sr).use(mo).freeze();var Xa={d:(t,e)=>{for(var n in e)Xa.o(e,n)&&!Xa.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},el={};Xa.d(el,{Z:()=>By,$:()=>Hd});var dr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Vd(t){return t<dr.nul||t===dr.space}function Ja(t){return t<dr.horizontalTab}var Ry={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,d,p){for(var h,m,g,y,A,F,S,C,T=(p.before||"")+(d||"")+(p.after||""),P=[],B=[],Y={},E=-1;++E<u.unsafe.length;)if(y=u.unsafe[E],o(u.stack,y))for(A=r(y);F=A.exec(T);)h="before"in y||y.atBreak,m="after"in y,g=F.index+(h?F[1].length:0),P.indexOf(g)===-1?(P.push(g),Y[g]={before:h,after:m}):(Y[g].before&&!h&&(Y[g].before=!1),Y[g].after&&!m&&(Y[g].after=!1));for(P.sort(s),S=p.before?p.before.length:0,C=T.length-(p.after?p.after.length:0),E=-1;++E<P.length;)(g=P[E])<S||g>=C||g+1<C&&P[E+1]===g+1&&Y[g].after&&!Y[g+1].before&&!Y[g+1].after||(S!==g&&B.push(l(T.slice(S,g),"\\")),S=g,!/[!-/:-@[-`{-~]/.test(T.charAt(g))||p.encode&&p.encode.indexOf(T.charAt(g))!==-1?(B.push("&#x"+T.charCodeAt(g).toString(16).toUpperCase()+";"),S++):B.push("\\"));return B.push(l(T.slice(S,C),p.after)),B.join("")};var r=n(553),o=n(112);function s(u,d){return u-d}function l(u,d){for(var p,h=/\\(?=[!-/:-@[-`{-~])/g,m=[],g=[],y=-1,A=0,F=u+d;p=h.exec(F);)m.push(p.index);for(;++y<m.length;)A!==m[y]&&g.push(u.slice(A,m[y])),g.push("\\"),A=m[y];return g.push(u.slice(A)),g.join("")}}},zd={};function It(t){var e=zd[t];if(e!==void 0)return e.exports;var n=zd[t]={exports:{}};return Ry[t](n,n.exports,It),n.exports}It.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return It.d(e,{a:e}),e},It.d=(t,e)=>{for(var n in e)It.o(e,n)&&!It.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},It.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tl={};(()=>{function t(o={}){let s=o.permalinks||[],l=o.pageResolver||(g=>[g.replace(/ /g,"_").toLowerCase()]),u=o.newClassName||"new",d=o.wikiLinkClassName||"internal",p=o.hrefTemplate||(g=>`#/page/${g}`),h;function m(g){return g[g.length-1]}return{enter:{wikiLink:function(g){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,g)}},exit:{wikiLinkTarget:function(g){let y=this.sliceSerialize(g);m(this.stack).value=y},wikiLinkAlias:function(g){let y=this.sliceSerialize(g);m(this.stack).data.alias=y},wikiLink:function(g){this.exit(g);let y=h,A=l(y.value),F=A.find((B=>s.indexOf(B)!==-1)),S=F!==void 0,C;C=S?F:A[0]||"";let T=y.value;y.data.alias&&(T=y.data.alias);let P=d;S||(P+=" "+u),y.data.alias=T,y.data.permalink=C,y.data.exists=S,y.data.hName="a",y.data.hProperties={className:P,href:p(C)},y.data.hChildren=[{type:"text",value:T}]}}}}It.d(tl,{V:()=>t,x:()=>r});var e=It(113),n=It.n(e);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,d){let p=d.enter("wikiLink"),h=n()(d,l.value,{before:"[",after:"]"}),m=n()(d,l.data.alias,{before:"[",after:"]"}),g;return g=m!==h?`[[${h}${s}${m}]]`:`[[${h}]]`,p(),g}}}}})();var Ny=tl.V,Wy=tl.x,Ud=!1;function Hd(t={}){let e=this.data();function n(r,o){e[r]?e[r].push(o):e[r]=[o]}!Ud&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Ud=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:function(s,l,u){var d,p,h=0,m=0,g=0;return function(T){return T!=="[[".charCodeAt(m)?u(T):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),y(T))};function y(T){return m===2?(s.exit("wikiLinkMarker"),(function(P){return Ja(P)||P===dr.eof?u(P):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),A(P))})(T)):T!=="[[".charCodeAt(m)?u(T):(s.consume(T),m++,y)}function A(T){return T===r.charCodeAt(h)?d?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),F(T)):u(T):T===o.charCodeAt(g)?d?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Ja(T)||T===dr.eof?u(T):(Vd(T)||(d=!0),s.consume(T),A)}function F(T){return h===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),S(T)):T!==r.charCodeAt(h)?u(T):(s.consume(T),h++,F)}function S(T){return T===o.charCodeAt(g)?p?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(T)):u(T):Ja(T)||T===dr.eof?u(T):(Vd(T)||(p=!0),s.consume(T),S)}function C(T){return g===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),l(T)):T!==o.charCodeAt(g)?u(T):(s.consume(T),g++,C)}}}}}})(t)),n("fromMarkdownExtensions",Ny(t)),n("toMarkdownExtensions",Wy(t))}var By=Hd,r_=el.Z,$d=el.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Yy=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function nl(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Yy.test(t)}var Mn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ko(t){let e=(0,Mn.getFrontMatterInfo)(t);return(0,Mn.parseYaml)(e.frontmatter)??{}}function jd(t,e){let n=(0,Mn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Mn.stringifyYaml)(e);return n.exists?Cu(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function et(t){if(!Ve(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Gd(t){return rl(t)&&t.type==="file"}function rl(t){return Ve(t)&&!!t.isCanvas}function In(t,e){return{newContent:e,oldContent:t.original,reference:t}}function qd(t){return t.sort((e,n)=>{if(Ve(e)&&Ve(n)){let r=et(e)?e.startOffset:0,o=et(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(et(n))-Number(et(e))||r-o}return Ct(e)&&Ct(n)?e.position.start.offset-n.position.start.offset:Ve(e)?1:-1})}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Kd(t,e,n){let r=Ae(t,e),o=At(n);await fr(t,o);let s=vo(t,n);try{await t.vault.copy(r,s)}catch(l){if(!await t.vault.exists(s))throw l}return s}async function fr(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function vo(t,e){let n=it(e);return t.vault.getAvailablePath(ge(oe(e),Ue(e,n)),n.slice(1))}function hr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}function il(t,e,n){let r=fe(t,e);if(t.vault.adapter.insensitive){let o=oe(n),s=Ue(n),l;for(;l=Et(t,o,!0),!l;)s=ge(Ue(o),s),o=oe(o);n=ge(l.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:vo(t,n)}async function ol(t,e){let n=await pr(t,fe(t,e));return n.files.length===0&&n.folders.length===0}async function pr(t,e){let n=fe(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return r}}async function Zd(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0},...r};await Yi(async l=>{l.throwIfAborted();let u=await sl(t,e);if(l.throwIfAborted(),u===null)return m();let d=await $n(n,l,u);if(l.throwIfAborted(),d===null)return!1;let p=!0;if(!await Qd(t,e,async g=>{l.throwIfAborted(),await t.vault.process(g,y=>(l.throwIfAborted(),y!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:y,expectedContent:u,path:g.path}),p=!1,y):d)),l.throwIfAborted()}))return m();return p;function m(){if(s.shouldFailOnMissingFile){let g=fe(t,e);throw new Error(`File '${g}' not found`)}return!0}},s)}async function sl(t,e){let n=null;return await Qd(t,e,async r=>{n=await t.vault.read(r)}),n}async function Ao(t,e,n){let r=Ae(t,e,!1,!0),o=il(t,e,n);if(r.path.toLowerCase()===o.toLowerCase())return r.path!==n&&await t.vault.rename(r,o),o;let s=At(o);await fr(t,s);try{await t.vault.rename(r,o)}catch(l){if(!await t.vault.exists(o)||await t.vault.exists(r.path))throw l}return o}async function Qd(t,e,n){let r=fe(t,e),o=de(t,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=de(t,r),!o||o.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Eo(t,e,n,r,o=!0){t.throwIfAborted();let s=await $n(r,t),l={},u=!1;try{l=ko(e)}catch(g){console.error(new Error(`Frontmatter parsing failed in ${n}`,{cause:g})),u=!0}if(!jy(s,e,l,n,o))return o?null:e;s.sort((g,y)=>Zt(g)&&Zt(y)?g.reference.position.start.offset-y.reference.position.start.offset:xo(g)&&xo(y)?g.reference.key.localeCompare(y.reference.key)||g.reference.startOffset-y.reference.startOffset:Co(g)&&Co(y)?g.reference.key.localeCompare(y.reference.key):Zt(g)?-1:1),s=s.filter((g,y)=>g.oldContent===g.newContent?!1:y===0?!0:!ct(g,s[y-1]));for(let g=1;g<s.length;g++){let y=s[g];if(!y)continue;let A=s[g-1];if(A&&Zt(A)&&Zt(y)&&A.reference.position.end.offset&&A.reference.position.end.offset>y.reference.position.start.offset)return console.warn("Overlapping changes",{change:y,previousChange:A}),null}let d="",p=0,h=!1,m=new Map;for(let g of s)if(Zt(g))d+=e.slice(p,g.reference.position.start.offset),d+=g.newContent,p=g.reference.position.end.offset;else if(xo(g))if(u)console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:g});else{let y=m.get(g.reference.key);y||(y=[],m.set(g.reference.key,y)),y.push(g),h=!0}else Co(g)&&(u?console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:g}):(sa(l,g.reference.key,g.newContent),h=!0));return await Hy(t,l,m,n),t.throwIfAborted(),d+=e.slice(p),h&&(d=jd(d,l)),d}async function Zr(t,e,n,r={},o=!0){await Zd(t,e,async(s,l)=>Cn(t,e)?await Uy(s,l,fe(t,e),n,o):await Eo(s,l,fe(t,e),n,o),r)}function Qr(t){return rl(t.reference)}function Vy(t){return Qr(t)&&t.reference.type==="file"}function zy(t){return Qr(t)&&t.reference.type==="text"}function Zt(t){return Ct(t.reference)}function Co(t){return Ve(t.reference)}function xo(t){return et(t.reference)}async function Uy(t,e,n,r,o=!0){let s=await $n(r,t),l=$y(e),u=new Map;for(let d of s){if(!Qr(d))return console.warn("Only canvas changes are supported for canvas files",{change:d,path:n}),null;let p=l.nodes[d.reference.nodeIndex];if(!p)return console.warn("Node not found",{nodeIndex:d.reference.nodeIndex,path:n}),null;if(Vy(d)){if(p.file!==d.oldContent)return console.warn("Content mismatch",{actualContent:p.file,expectedContent:d.oldContent,nodeIndex:d.reference.nodeIndex,path:n,type:"file"}),null;p.file=d.newContent}else if(zy(d)){let h=u.get(d.reference.nodeIndex);h||(h=[],u.set(d.reference.nodeIndex,h)),h.push(d)}}for(let[d,p]of u.entries()){let h=l.nodes[d];if(!h)return console.warn("Node not found",{nodeIndex:d,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:d,path:n}),null;let m=p.map(g=>In(g.reference.originalReference,g.newContent));h.text=await Eo(t,h.text,`${n}.node${String(d)}.VIRTUAL_FILE.md`,m,o)}return JSON.stringify(l,null,"	")}async function Hy(t,e,n,r){for(let[o,s]of n.entries()){let l=er(e,o);if(typeof l!="string")return;let u=s.map(p=>({newContent:p.newContent,oldContent:p.oldContent,reference:{link:"",original:"",position:{end:{col:p.reference.endOffset,line:0,offset:p.reference.endOffset},start:{col:p.reference.startOffset,line:0,offset:p.reference.startOffset}}}})),d=await Eo(t,l,`${r}.frontmatter.${o}.VIRTUAL_FILE.md`,u);if(d===null)return;sa(e,o,d)}}function $y(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function jy(t,e,n,r,o){let s=Qn("FileChange:validateChanges"),l=o?console.warn.bind(console):s;for(let u of t)if(Zt(u)){let d=u.reference.position.start.offset,p=u.reference.position.end.offset,h=e.slice(d,p);if(h!==u.oldContent)return l("Content mismatch",{actualContent:h,endOffset:p,expectedContent:u.oldContent,path:r,startOffset:d}),!1}else if(xo(u)){let d=er(n,u.reference.key);if(typeof d!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:d}),!1;let p=d.slice(u.reference.startOffset,u.reference.endOffset);if(p!==u.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(Co(u)){let d=er(n,u.reference.key);if(d!==u.oldContent)return l("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}var Jd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function Xd(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function Ot(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),qd(e),e=e.filter((n,r)=>{if(r===0)return!0;let o=e[r-1];if(!o)return!0;if(Ct(n)&&Ct(o))return n.position.start.offset!==o.position.start.offset;if(Ve(n)&&Ve(o)){let s=et(n)?n.startOffset:0,l=et(o)?o.startOffset:0;return n.key!==o.key||et(n)!==et(o)||s!==l}return!0}),e}function al(t,e){let n=Ae(t,e,!0);return Jr(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function Qt(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let o=new uu;return await Yi(async s=>{s.throwIfAborted();let l=Ae(t,e);await Xd(t),s.throwIfAborted(),o=al(t,l);for(let u of o.keys()){s.throwIfAborted();let d=de(t,u);if(!d)return!1;await ef(t,d),s.throwIfAborted();let p=await sl(t,d);if(s.throwIfAborted(),!p)return!1;let h=ko(p),m=o.get(u);if(!m)return!1;for(let g of m){let y;if(Ct(g))y=p.slice(g.position.start.offset,g.position.end.offset);else if(Ve(g)){let A=er(h,g.key);if(typeof A!="string")return!1;let F=0,S=A.length;et(g)&&(F=g.startOffset,S=g.endOffset),y=A.slice(F,S)}else return!0;if(y!==g.original)return!1}}return!0},n),o}async function Lt(t,e){let n=de(t,e);if(!n||n.deleted)return null;await ef(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Xd(t)),t.metadataCache.getFileCache(n)}function Gy(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let o=r;for(;o.deleted;)n.add(o.path),t.vault.fileMap[o.path]=o,o=o.parent??Gn(t,At(o.path),!0);ot(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&ot(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function Jr(t,e,n){let r=Gy(t,e);try{return n()}finally{r()}}async function ef(t,e){if(!be(t,e))return;let n=fe(t,e);for(let r of t.workspace.getLeavesOfType(cu.Markdown))r.view instanceof Jd.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function tf(t){return t.vault.getConfig("newLinkFormat")==="relative"}function nf(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var qy="\\|",Ky=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Zy=/[\\[\]<>_*~=`$]/g,sf=/(?<!\\)\|/g,af="|";function Qy(t){let e=Jt(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?cl({app:t.app,link:t.link,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldForceMarkdownLinks:t.shouldForceMarkdownLinks,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function ll(t,e,n,r={}){await Zr(t,e,async()=>{let o=await Lt(t,e);return await sb(o,Cn(t,e),n)},r)}function ul(t){return Ie(t,Ky,({substring:e})=>encodeURIComponent(e))}function Jt(t,e,n,r=!1){let{linkPath:o}=dn(e.link),s=fe(t,n),l=t.metadataCache.getFirstLinkpathDest(o,s);if(l)return l;if(!r)return null;if(o.startsWith("/"))return Ae(t,o,!0);let u=ge(oe(s),`./${o}`);return u.startsWith("../")?null:Ae(t,u,!0)}function _o(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let s=Ae(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Jr(e,[s],()=>rb(t))}function Xr(t){let e=Jy(t);return e[0]?.raw===t?e[0]:null}function Jy(t){let e=new Set,n="![",r=" [",o=Ie(t,n,h=>(e.add(h.offset),r)),l=Yd().use(sr).use($d,{aliasDivider:af}).parse(o),u=[],d=[];Gr(l,h=>{let m;switch(h.type){case"link":m=lb(h,t);break;case"wikiLink":m=ub(h,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((h,m)=>h.startOffset-m.startOffset);let p=0;for(let h of u)rf(t,p,h.startOffset-1,d),p=h.endOffset+1;return rf(t,p,t.length-1,d),u.push(...d),u.sort((h,m)=>h.startOffset-m.startOffset),u}function Xy(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:o,oldSourcePathOrFile:s,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let d=Ae(e,u,!0),p=fe(e,o),h=fe(e,s??o),m=oe(p),g=oe(h),y=new Set;for(let F of[d.path,l]){if(!F)continue;let S=fe(e,F);y.add(S),y.add(Ue(S)),y.add(jn(m,S)),y.add(jn(g,S))}for(let F of[h,p])y.add(e.metadataCache.fileToLinktext(d,F,!1));let A=Ie((0,So.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of y){if(F.toLowerCase()===A)return!0;let S=oe(F),C=Ue(F,it(F));if(ge(S,C).toLowerCase()===A)return!0}return!1}function dn(t){let e=(0,So.parseLinktext)(Ir(t));return{linkPath:e.path,subpath:e.subpath}}function eb(t){return Xr(t)?.hasAngleBrackets??!1}function To(t){return Xr(t)?.isEmbed??!1}function tb(t){return Xr(t)?.url.startsWith("./")??!1}function mr(t){return Xr(t)?.isWikilink??!1}function cl(t){let{app:e,link:n,newSourcePathOrFile:r,newTargetPathOrFile:o,oldSourcePathOrFile:s,oldTargetPathOrFile:l,shouldForceMarkdownLinks:u,shouldUpdateFileNameAlias:d}=t;if(!o)return n.original;let p=Ae(e,o,!0),h=fe(e,l??o),m=mr(n.original)&&u!==!0,{subpath:g}=dn(n.link),y=!d;if(Cn(e,r)&&Gd(n))return p.path+g;let A;if(m){let S=Xr(n.original);S?.alias&&(A=S.alias,y=!0)}return A??=Xy({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:r,oldSourcePathOrFile:s,oldTargetPath:h,targetPathOrFile:p})?void 0:n.displayText,y||(A===Ue(h,it(h))?A=p.basename:A===Ue(h)&&(A=p.name)),_o({alias:A,app:e,isWikilink:u?!1:void 0,originalLink:n.original,sourcePathOrFile:r,subpath:g,targetPathOrFile:p})}async function Fo(t){let{app:e,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:o,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:l}=t;Cn(e,n)&&!e.internalPlugins.getEnabledPluginById(vt.Canvas)||await ll(e,n,u=>{let d=To(u.original);if(!(s!==void 0&&s!==d))return Qy({app:e,link:u,newSourcePathOrFile:n,oldSourcePathOrFile:r,shouldForceMarkdownLinks:o,shouldUpdateFileNameAlias:l})},t)}function rf(t,e,n,r){if(e>n)return;let o=t.slice(e,n+1);Ie(o,/(?<Url>\S+)/g,(s,l)=>{nl(l)&&r.push({encodedUrl:ul(l),endOffset:e+s.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+s.offset,url:l})})}function nb(t,e,n,r,o){n==="/"&&(n="");let s;return e.path===n&&r?s=r:o.shouldForceRelativePath?s=jn(oe(n),o.isWikilink?Du(t,e):e.path)+r:s=t.metadataCache.fileToLinktext(e,n,o.isWikilink)+r,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function rb(t){let{app:e}=t,n=Ae(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=fe(e,t.sourcePathOrFile),o=t.subpath??"",s=ab(t,n),l=nb(e,n,r,o,s);return s.isWikilink?ob(l,t.alias,s.isEmbed):ib(l,n,t,s)}function ib(t,e,n,r){let{app:o}=n,s=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:ul(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||be(o,e)?e.basename:e.name);let d=Ie(u,Zy,"\\$&");return`${s}[${d}](${l})`}function ob(t,e,n){let r=n?"!":"",o=e??"";if(o&&o.toLowerCase()===t.toLowerCase())return`${r}[[${o}]]`;let s=o?`|${o}`:"";return`${r}[[${t}${s}]]`}async function sb(t,e,n,r){if(r??=ve(),r.throwIfAborted(),!t)return[];let o=[],s=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Ot(t)){r.throwIfAborted();let u=await n(l,r);if(r.throwIfAborted(),u===void 0)continue;let d=In(l,u);e?Qr(d)?o.push(d):console.warn("Unsupported file change",d):(cb(d,s)&&(d.newContent=d.newContent.replaceAll(sf,qy)),o.push(d))}return o}function ab(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?To(t.originalLink):void 0)??!be(n,e),isWikilink:t.isWikilink??(t.originalLink?mr(t.originalLink):void 0)??nf(n),shouldForceRelativePath:t.shouldForceRelativePath??tf(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?eb(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?tb(t.originalLink):void 0)??!1}}function lf(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function lb(t,e){let s=lf(t,e),l=t.children[0],u=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),d=s.startsWith("<")||u.startsWith("<"),p=nl(t.url),h=t.url;if(!p&&!d)try{h=decodeURIComponent(h)}catch(m){console.error(`Failed to decode URL ${h}`,m)}return{alias:l?.value,encodedUrl:p?ul(h):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:d,isEmbed:!1,isExternal:p,isWikilink:!1,raw:s,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:h}}function ub(t,e){return{alias:e.includes(af)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:lf(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function cb(t,e){return!Zt(t)||!sf.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function uf(t,e){let n=Object.keys(e).map(r=>db(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function db(t,e,n){let r=t[e],o=t.hasOwnProperty(e),s=o?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(s);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,d;function u(...p){return l===s&&t[e]===u&&d(),l.apply(this,p)}function d(){t[e]===u&&(o?t[e]=s:delete t[e]),l!==s&&(l=s,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function fb(t,e){return uf(t,e)}function cf(t,e,n){let r=fb(e,n),o=!1;function s(){if(!o)try{r()}finally{o=!0}}return t.register(s),r}var df=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();async function ei(t,e){let n=Et(t,e);for(;n;){if(!await ol(t,n))return;let r=n.parent;await Xt(t,n.path),n=r}}async function Xt(t,e,n,r,o){let s=Or(t,e);if(!s)return!1;let l=ot(s)||(o??!0);if(ot(s)){let u=await Qt(t,s);n&&u.clear(n),u.count()!==0&&(r&&new df.Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(Lr(s)){let u=await pr(t,s);for(let d of[...u.files,...u.folders])l&&=await Xt(t,d,n,r);l&&=await ol(t,s)}if(l)try{await t.fileManager.trashFile(s)}catch(u){await t.vault.exists(s.path)&&(Mr(new Error(`Failed to delete ${s.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var dl=new Map,ti=new Set,Po=new Map,Te=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Te||{});function mf(t,e){let n=Do(t.app),r=t.manifest.id;n.set(r,e),hf(t.app),t.register(()=>{n.delete(r),hf(t.app)});let o=t.app,s=t.abortSignal??ve();t.registerEvent(o.vault.on("delete",l=>{wb(t,l,s)})),t.registerEvent(o.vault.on("rename",(l,u)=>{vb(t,l,u,s)})),t.registerEvent(o.metadataCache.on("deleted",(l,u)=>{bb(t,l,u)})),cf(t,o.fileManager,{runAsyncLinkUpdate:l=>u=>Cb(o,l,u)})}async function gf(t,e,n){let r=fn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let o of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Xt(t,o,n,void 0,!0);break;case"DeleteWithEmptyParents":await ei(t,o);break;default:break}}async function hb(t,e,n,r,o){let s=Po.get(e);if(s){Po.delete(e);for(let l of s)await fl(t,l.oldPath,n,r,o,l.combinedBacklinksMap)}}async function pb(t,e,n,r,o){if(r.set(e,n),!ni(t,e))return;let s=fn(t),l=await nr(t,e),u=s.shouldRenameAttachmentFolder?await nr(t,n):l,d=l==="/",p=Et(t,l);if(!p||l===u&&!s.shouldRenameAttachmentFiles)return;let h=[];if(await la(t,e))pf.Vault.recurseChildren(p,y=>{ot(y)&&h.push(y)});else for(let y of o){let A=Jt(t,y,e);A&&(d||A.path.startsWith(l))&&(await Qt(t,A)).keys().length===1&&h.push(A)}let m=Ue(e,it(e)),g=Ue(n,it(n));for(let y of h){if(ni(t,y.path))continue;let A=d?y.path:jn(l,y.path),F=ge(u,oe(A)),S=s.shouldRenameAttachmentFiles?Ie(y.basename,m,g):y.basename,C=ge(F,Eu(S,y.extension));if(y.path!==C){if(s.shouldDeleteConflictingAttachments){let T=de(t,C);T&&(console.warn(`Removing conflicting attachment ${T.path}.`),await t.fileManager.trashFile(T))}else C=t.vault.getAvailablePath(ge(F,S),y.extension);r.set(y.path,C)}}}function Do(t){return Gt(t,"renameDeleteHandlersMap",new Map).value}function fn(t){let e=Do(t),n=Array.from(e.values()).reverse(),r={};r.isNote=o=>Rr(t,o),r.isPathIgnored=()=>!1;for(let o of n){let s=o();r.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=s.shouldHandleDeletions??!1,r.shouldHandleRenames||=s.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=d=>l(d)||(s.isPathIgnored?.(d)??!1);let u=r.isNote;r.isNote=d=>u(d)&&(s.isNote?.(d)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function mb(t,e,n,r,o){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let s=ge(oe(n),`__temp__${Ue(n)}`);return await yf(t,n,s),await fl(t,e,s,r,o),await t.vault.rename(Ae(t,s),n),!0}async function gb(t,e,n){if(n.throwIfAborted(),at("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!ni(t,e))return;let r=fn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let o=dl.get(e);dl.delete(e);let s=new Set;if(o){let d=Ot(o);for(let p of d){let h=Jt(t,p,e);h&&(ni(t,h.path)||(s.add(h.parent?.path??""),await Xt(t,h,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await gf(t,Array.from(s),e),n.throwIfAborted();let l=await nr(t,e),u=Et(t,l);u&&await la(t,e)&&(n.throwIfAborted(),await Xt(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}function wb(t,e,n){let r=t.app;if(!hl(t))return;let o=e.path;ut(r,s=>gb(r,o,s),n)}function yb(t,e,n){let r=fn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&be(t,e)&&n&&dl.set(e.path,n)}function bb(t,e,n){hl(t)&&yb(t.app,e,n)}function kb(t,e,n,r){let o=wf(e,n);if(at("RenameDeleteHandler:handleRename")(`Handle Rename ${o}`),ti.has(o)){ti.delete(o);return}let s=fn(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=l?Ot(l):[],d=al(t,e).data;ut(t,p=>fl(t,e,n,d,u,void 0,p),r)}async function fl(t,e,n,r,o,s,l){if(l??=ve(),l.throwIfAborted(),await hb(t,e,n,r,o),l.throwIfAborted(),await Ab(t,e,n,r,o),l.throwIfAborted(),!await mb(t,e,n,r,o)){l.throwIfAborted();try{let u=new Map;await pb(t,e,n,u,o),l.throwIfAborted();let d=new Map;ff(r,u,d,e);for(let m of u.keys()){if(m===e)continue;let g=(await Qt(t,m)).data;ff(g,u,d,m)}let p=new Set;for(let[m,g]of u.entries()){if(m===e)continue;let y=await yf(t,m,g);u.set(m,y),p.add(oe(m))}await gf(t,Array.from(p),e),l.throwIfAborted();let h=fn(t);for(let[m,g]of Array.from(d.entries()).concat(Array.from(s?.entries()??[])))await ll(t,m,y=>{let A=g.get(qi(y));if(!A)return;let F=u.get(A);if(F)return cl({app:t,link:y,newSourcePathOrFile:m,newTargetPathOrFile:F,oldTargetPathOrFile:A,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(ni(t,n)&&(await Fo({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),l.throwIfAborted()),!de(t,n)){let m=Po.get(n);m||(m=[],Po.set(n,m)),m.push({combinedBacklinksMap:d,oldPath:e})}}finally{let u=Array.from(ti);ut(t,()=>{for(let d of u)ti.delete(d)},l)}}}function vb(t,e,n,r){if(!hl(t)||!ot(e))return;let o=e.path;kb(t.app,n,o,r)}function ff(t,e,n,r){for(let[o,s]of t.entries()){let l=e.get(o)??o,u=n.get(l)??new Map;n.set(l,u);for(let d of s)u.set(qi(d),r)}}function ni(t,e){return fn(t).isNote?.(e)??!1}function hf(t){let e=Do(t);at("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function wf(t,e){return`${t} -> ${e}`}async function Ab(t,e,n,r,o){let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=s?Ot(s):[],u=Ae(t,e,!0),d=new Map;await Jr(t,[u],async()=>{d=(await Qt(t,u)).data});for(let p of l)o.includes(p)||o.push(p);for(let[p,h]of d.entries()){let m=r.get(p);m||(m=[],r.set(p,m));for(let g of h)m.includes(g)||m.push(g)}}async function yf(t,e,n){if(n=il(t,e,n),e===n)return n;let r=wf(e,n);return ti.add(r),n=await Ao(t,e,n),n}async function Cb(t,e,n){await e.call(t.fileManager,r);async function r(o){let s=!1,l=t.vault.on("rename",()=>{s=!0});try{await n(o)}finally{t.vault.offref(l)}let u=fn(t);s&&u.shouldHandleRenames&&Dr(o,d=>u.isPathIgnored?.(d.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${d.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(d.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${d.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(vt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:d.sourceFile.extension==="canvas"||d.resolvedFile.extension==="canvas")}}function hl(t){let e=t.app,n=t.manifest.id,r=Do(e);return Array.from(r.keys())[0]===n}var VT=require("obsidian");var bf=require("obsidian");var hn=class extends Map{constructor(n){super();this.title=n}add(n,r){this.has(n)||this.set(n,[]);let o=this.get(n);o&&o.push(r)}toString(n,r){if(this.size>0){let o=`# ${this.title} (${this.size.toString()} files)
`;for(let s of this.keys()){let l=de(n,s);if(!l)continue;let u=_o({app:n,sourcePathOrFile:r,targetPathOrFile:l});o+=`${u}:
`;for(let d of this.get(s)??[])Ct(d)?o+=`- (line ${(d.position.start.line+1).toString()}): \`${d.link}\`
`:Ve(d)&&(o+=`- (key ${d.key}): \`${d.link}\`
`);o+=`

`}return o}return`# ${this.title}
No problems found

`}},ri=class{constructor(e){this.plugin=e;}async checkConsistency(e,n,r,o,s,l){if(this.plugin.settings.isPathIgnored(e.path))return;let u=await Lt(this.plugin.app,e.path);if(!u)return;let d=u.links??[],p=u.embeds??[],h=u.frontmatterLinks??[];for(let m of d)await this.isValidLink(m,e.path)||n.add(e.path,m),mr(m.original)&&o.add(e.path,m);for(let m of p)await this.isValidLink(m,e.path)||r.add(e.path,m),mr(m.original)&&s.add(e.path,m);for(let m of h)await this.isValidLink(m,e.path)||l.add(e.path,m)}async convertAllNoteEmbedsPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!0,n)}async convertAllNoteLinksPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!1,n)}async getCachedNotesThatHaveLinkToFile(e){let n=de(this.plugin.app,e);return n?(await Qt(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=dn(e));let r=oe(n);return ge(r,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n,r){if(this.plugin.settings.isPathIgnored(e))return 0;let o=de(this.plugin.app,e);if(!o)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let s=await Lt(this.plugin.app,o);if(r.throwIfAborted(),!s)return 0;let u=((n?s.embeds:s.links)??[]).filter(d=>mr(d.original)).length;return await Fo({app:this.plugin.app,newSourcePathOrFile:o,shouldForceMarkdownLinks:!0,shouldUpdateEmbedOnlyLinks:n}),u}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let r=de(this.plugin.app,e);if(!r){console.warn(`can't update links in note, file not found: ${e}`);return}let o=new Map;for(let s of n)o.set(s.oldPath,s.newPath);await this.updateLinks(r,r.path,o)}async convertAllNoteRefPathsToRelative(e,n,r){if(this.plugin.settings.isPathIgnored(e))return[];let o=de(this.plugin.app,e);if(!o)return[];let s=[];return await Zr(this.plugin.app,o,async l=>{let u=await Lt(this.plugin.app,o);if(l.throwIfAborted(),!u)return[];let d=(n?u.embeds:u.links)??[],p=[];for(let h of d){let m=this.convertLink({forceRelativePath:!0,link:h,note:o,oldNotePath:e});p.push(In(h,m)),s.push({newLink:m,old:h})}return p},{abortSignal:r}),s}convertLink({forceRelativePath:e,link:n,note:r,oldNotePath:o,pathChangeMap:s}){let{linkPath:l,subpath:u}=dn(n.link),d=Jt(this.plugin.app,n,o)?.path??ge(oe(o),l),p=s?s.get(d):Jt(this.plugin.app,n,r.path)?.path??ge(oe(r.path),l);if(!p)return n.original;let h=de(this.plugin.app,p)??de(this.plugin.app,d);if(!h)return n.original;let m=n.displayText&&ge(r.parent?.path??"",n.displayText)===d?void 0:n.displayText;return _o({alias:m,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:r.path,subpath:u,targetPathOrFile:h})}async isValidLink(e,n){let{linkPath:r,subpath:o}=dn(e.link),s;r?r.startsWith("/")?s=(0,bf.normalizePath)(r):s=ge(oe(n),r):s=n;let l=de(this.plugin.app,s);if(!l)return!1;if(!o)return!0;let u=l.extension.toLocaleLowerCase();if(u==="pdf")return o.startsWith("#page=");if(u!==Pi)return!1;let d=await Lt(this.plugin.app,l);if(!d)return!1;let p="#^";if(o.startsWith(p))return Object.keys(d.blocks??{}).includes(An(o,p));let h="#";return(d.headings??[]).map(m=>m.heading.replaceAll(h," ")).includes(An(o,h))}async updateLinks(e,n,r){await Zr(this.plugin.app,e,async()=>{let o=await Lt(this.plugin.app,e);return o?Ot(o).map(l=>In(l,this.convertLink({link:l,note:e,oldNotePath:n,pathChangeMap:r}))):[]})}};var ii=class{constructor(e,n){this.plugin=e;this.lh=n;}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},r=await Lt(this.plugin.app,e);if(!r)return n;for(let o of Ot(r)){let{linkPath:s}=dn(o.link);if(!s)continue;let l=this.lh.getFullPathForLink(s,e);if(n.movedAttachments.findIndex(h=>h.oldPath===l)!==-1)continue;let u=Jt(this.plugin.app,o,e);if(!u){let h=To(o.original)?"embed":"link";console.warn(`${e} has bad ${h} (file does not exist): ${s}`);continue}if(this.isNoteEx(u)||this.plugin.settings.isExcludedFromAttachmentCollecting(u.path))continue;let d=await aa(this.plugin.app,u.path,e);if(oe(d)===oe(u.path))continue;let p=await this.moveAttachment(u,d,[e]);n.movedAttachments=n.movedAttachments.concat(p.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=An(e,"./");let n=await pr(this.plugin.app,e);for(let r of n.folders)await this.deleteEmptyFolders(r);if(n=await pr(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(r){if(await this.plugin.app.vault.adapter.exists(e))throw r}}isNoteEx(e){if(!e||!Rr(this.plugin.app,e))return!1;let n=fe(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async createFolderForAttachmentFromPath(e){await fr(this.plugin.app,oe(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Te.Delete:await Xt(this.plugin.app,e.parent,void 0,void 0,!0);break;case Te.DeleteWithEmptyParents:await ei(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,r){let o=e.path,s={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(o)||this.isNoteEx(e))return s;if(o===n)return console.warn("Can't move file. Source and destination path the same."),s;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(o);for(let h of r)l.remove(h);if(o!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,r);let u=e.parent,d=l.length===0,p=de(this.plugin.app,n);if(p&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(p)):n=vo(this.plugin.app,n)),this.plugin.consoleDebug(`${d?"move":"copy"}
  from: ${o}
  to: ${n}`),s.movedAttachments.push({newPath:n,oldPath:o}),d?await Ao(this.plugin.app,e,n):await Kd(this.plugin.app,e,n),u)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Te.Delete:await Xt(this.plugin.app,u,void 0,void 0,!0);break;case Te.DeleteWithEmptyParents:await ei(this.plugin.app,u);break;default:break}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var pn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,String(u)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let l of Xn(e)){let u=e[l],d=this.transformValueRecursively(u,l);s[l]=d}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ft=class extends pn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Mo=class extends ft{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var kf=rt(On(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Io=class extends ft{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,kf.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Oo=class extends pn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??vn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Lo=class extends ft{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ro=class extends ft{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var xb="_",No=class extends pn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(xb)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var oi=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Wo=class extends ft{get id(){return"two-way-map"}canTransform(e){return e instanceof oi}restoreValue(e){return new oi(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Eb=new Oo([new No,new Mo,new Io,new Lo,new Ro,new Wo]),Bo=class extends Pt{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Xn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let u of this.propertyNames)this.setPropertyImpl(u,o[u],s[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);ct(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Qe),this.currentSettingsWrapper.validationMessages}async saveToFile(e){ct(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,o]of this.validators.entries()){let s=await o(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return Eb}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Tt()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(o);function o(s){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),d=s;n(d);for(let p of Object.keys(d))u.has(p)||l.has(p)&&delete s[p]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var vf=/(?:)/,Yo=/$./,Vo=class{consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=Te.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=ml(this._excludePaths,Yo)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=ml(this._excludePathsFromAttachmentCollecting,Yo)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=ml(this._includePaths,vf)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=Yo;_excludePathsRegExp=Yo;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=vf;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function ml(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${Hs(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var zo=class extends Bo{createDefaultSettings(){return new Vo}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,r=n.excludePaths??[];if(n.ignoreFiles){for(let o of n.ignoreFiles)r.push(`/${o}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let o of n.ignoreFolders??[])r.push(o);delete n.ignoreFolders}r.length>0&&(n.excludePaths=r),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?Te.DeleteWithEmptyParents:Te.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",Af),this.registerValidator("excludePaths",Af)}};function Af(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Au(n))return`Invalid regular expression ${e}`}}var Wf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Cf(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function xf(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function ht(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}function Ef(t){return`${String(t)}px`}var Ln=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Uo(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();se(r,W.SettingComponentWrapper);for(let o of n)r.appendChild(o);return e.appendChild(r),r}var Sf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var gl=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function _f(t){return Sb(t)?t:t instanceof Sf.AbstractTextComponent?new gl(t):null}function Sb(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var Le=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ho=class{constructor(e){this.el=e;let n=Uo(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),se(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},mn=class{constructor(e){this.validatorEl=e}};function Tf(t){return _b(t)?t:t instanceof Le.ColorComponent?new mn(t.colorPickerEl):t instanceof Le.DropdownComponent?new mn(t.selectEl):t instanceof Le.ProgressBarComponent?new Ho(t.progressBar):t instanceof Le.SearchComponent?new mn(t.inputEl):t instanceof Le.SliderComponent?new mn(t.sliderEl):t instanceof Le.TextAreaComponent?new mn(t.inputEl):t instanceof Le.TextComponent?new mn(t.inputEl):t instanceof Le.ToggleComponent?new Ho(t.toggleEl):null}function _b(t){return!!t.validatorEl}var Tb=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();function Ff(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var wl="PluginSettingsTab",$o=class extends Ln.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,se(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,Ln.debounce)(Jn(()=>this.plugin.settingsManager.saveToFile(wl)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Hi,this.asyncEvents=new Pt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:T=>T,onChanged:Qe,pluginSettingsToComponentValueConverter:T=>T,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=Tf(e)?.validatorEl,u=_f(e),d=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(p));let h,m=null,g=null;if(l){let T=Uo(l);m=T.createDiv(),se(m,W.Tooltip,W.TooltipValidator),g=m.createSpan();let P=m.createDiv();se(P,W.TooltipArrow),m.hide(),T.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(T,P)=>{n===T&&(h=P,S())}));let y=!1;u&&s.shouldShowPlaceholderForDefaultValues&&ct(d,p)?u.empty():e.setValue(s.pluginSettingsToComponentValueConverter(d));let A=!1,S=(0,Ln.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async T=>{if(A){A=!1;return}y=!1;let P=this.pluginSettings[n],B,Y=!0;if(u?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)B=p;else{let E=s.componentToPluginSettingsValueConverter(T);Ff(E)?(h=E.validationMessage,Y=!1):B=E}Y&&(h=await this.plugin.settingsManager.setProperty(n,B),u&&s.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&ct(B,p)&&(y=!0)),S(),B!==void 0&&await s.onChanged(B,P),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function C(){y&&!l?.isActiveElement()&&(y=!1,u?.isEmpty()||(A=!0,u?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),s.shouldShowValidationMessage?(g&&(g.textContent=h),m?.toggle(!!h)):h&&(0,Ln.setTooltip)(l,h))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),lt(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(wl)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Tt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===wl){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Nf=require("obsidian");var Pf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var jo=class extends Pf.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),se(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var wr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Go=class extends wr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),se(e,W.CodeHighlighterComponent);let n=e.createDiv();se(n,W.SettingComponentWrapper),this.textAreaComponent=new wr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",Jn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let o of Array.from(r.classList))o.startsWith(n)&&r.classList.remove(o);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,lt(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),lt(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,s=n.slice(0,r),l=n.slice(o),u=" ".repeat(this.tabSize),d=s;e.shiftKey?s.endsWith(u)&&(d=s.slice(0,-this.tabSize)):d=s+u;let p=`${d}${l}`;this.setValue(p),this.inputEl.selectionStart=d.length,this.inputEl.selectionEnd=d.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,wr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Ef(n)}),this.handleScroll()})}};var yl=rt(On(),1);var qo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Se=class extends qo.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new qo.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,se(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Ze=class extends Se{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Df="YYYY-MM-DD",Ko=class extends Ze{constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,yl.default)(e,Df).toDate()}valueToString(e){return(0,yl.default)(e).format(Df)}};var bl=rt(On(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Mf="YYYY-MM-DDTHH:mm",Zo=class extends Ze{constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,bl.default)(e,Mf).toDate()}valueToString(e){return(0,bl.default)(e).format(Mf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Qo=class extends Se{constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Jo=class extends Se{constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var kl=rt(On(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var If="YYYY-MM",Xo=class extends Ze{constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,kl.default)(e,If);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,kl.default)().year(e.year).month(e.month-1).format(If)}};var es=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var yr=class extends es.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new es.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,se(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ts=class extends Se{constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ns=class extends Se{constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var is=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var rs=class extends is.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new is.TextAreaComponent(e),se(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var os=class extends Ze{constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ss=class extends Se{constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var as=class extends Se{constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var us=rt(On(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ls=class extends Ze{constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,us.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,us.utc)(e.asMilliseconds()).format(n)}};var Of=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var cs=class extends Of.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),se(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var fs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ds=class extends fs.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new fs.DropdownComponent(e),se(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Lf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var hs=class extends Lf.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new yr(e),se(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var ps=class extends Se{constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var vl=rt(On(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var Rf="YYYY-[W]WW",ms=class extends Ze{constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,vl.default)(e,Rf);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,vl.default)().year(e.year).isoWeek(e.weekNumber).format(Rf)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd:__name(()=>"/","cwd"),env:{},platform:"android"};globalThis.process=e})();var je=class extends Nf.Setting{addCheckbox(e){return this.addComponent(jo,e)}addCodeHighlighter(e){return this.addComponent(Go,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Ko,e)}addDateTime(e){return this.addComponent(Zo,e)}addEmail(e){return this.addComponent(Qo,e)}addFile(e){return this.addComponent(Jo,e)}addMonth(e){return this.addComponent(Xo,e)}addMultipleDropdown(e){return this.addComponent(yr,e)}addMultipleEmail(e){return this.addComponent(ts,e)}addMultipleFile(e){return this.addComponent(ns,e)}addMultipleText(e){return this.addComponent(rs,e)}addNumber(e){return this.addComponent(os,e)}addPassword(e){return this.addComponent(ss,e)}addTelephone(e){return this.addComponent(as,e)}addTime(e){return this.addComponent(ls,e)}addTriStateCheckbox(e){return this.addComponent(cs,e)}addTypedDropdown(e){return this.addComponent(ds,e)}addTypedMultipleDropdown(e){return this.addComponent(hs,e)}addUrl(e){return this.addComponent(ps,e)}addWeek(e){return this.addComponent(ms,e)}};var gs=class extends $o{display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new je(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(s=>this.bind(s,"shouldMoveAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)}}));let n="Delete Unused Attachments with Note";new je(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(s=>this.bind(s,"shouldDeleteAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)}})),new je(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(s=>this.bind(s,"shouldUpdateLinks")),new je(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(s=>{s.appendText("When the attachment folder becomes empty, "),s.createEl("br"),ht(s,"Keep"),s.appendText(" - will keep the empty attachment folder, "),s.createEl("br"),ht(s,"Delete"),s.appendText(" - will delete the empty attachment folder, "),s.createEl("br"),ht(s,"Delete with empty parents"),s.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(s=>{s.addOptions({[Te.Keep]:"Keep",[Te.Delete]:"Delete",[Te.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(s,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:l=>xf(Te,l),pluginSettingsToComponentValueConverter:l=>Cf(Te,l)})});let r="Delete Duplicate Attachments on Note Move";new je(this.containerEl).setName(r).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(s=>this.bind(s,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",r)}})),new je(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(s=>this.bind(s,"shouldChangeNoteBacklinksDisplayText")),new je(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(s=>{this.bind(s,"consistencyReportFile")});let o="Auto Collect Attachments";new je(this.containerEl).setName(o).setDesc("Automatically collect attachments when the note is edited.").addToggle(s=>this.bind(s,"shouldCollectAttachmentsAutomatically",{onChanged:async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",o)}})),new je(this.containerEl).setName("Include paths").setDesc(createFragment(s=>{s.appendText("Include notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, all notes are included")})).addMultipleText(s=>{this.bind(s,"includePaths")}),new je(this.containerEl).setName("Exclude paths").setDesc(createFragment(s=>{s.appendText("Exclude notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(s=>{this.bind(s,"excludePaths")}),new je(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(s=>{s.appendText("Exclude attachments from the following paths when "),ht(s,"Collect attachments"),s.appendText(" command is executed."),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(s=>{this.bind(s,"excludePathsFromAttachmentCollecting")}),new je(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(s=>{s.appendText("Treat files with these extensions as attachments."),s.createEl("br"),s.appendText("By default, "),ht(s,".md"),s.appendText(" and "),ht(s,".canvas"),s.appendText(" linked files are not treated as attachments and are not moved with the note."),s.createEl("br"),s.appendText("You can add custom extensions, e.g. "),ht(s,".foo.md"),s.appendText(", "),ht(s,".bar.canvas"),s.appendText(", to override this behavior.")})).addMultipleText(s=>{this.bind(s,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await Ui({app:this.app,message:createFragment(r=>{r.createDiv({cls:"community-modal-readme"},o=>{o.appendText("You enabled "),o.createEl("strong",{cls:"markdown-rendered-code",text:n}),o.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),o.createEl("br"),o.appendText("It is "),o.createEl("strong",{text:"STRONGLY"}),o.appendText(" recommended to backup your vault before using the plugin."),o.createEl("br"),o.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),o.appendText(" about how to use the plugin.")})}),title:createFragment(r=>{(0,Wf.setIcon)(r.createSpan(),"triangle-alert"),r.appendText(" Consistent Attachments and Links")})})}};var ws=class extends ji{deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,r){await super.onSaveSettings(e,n,r),this.lh=new ri(this),this.fh=new ii(this,this.lh)}createSettingsManager(){return new zo(this)}createSettingsTab(){return new gs(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{ut(this.app,n=>this.handleMetadataCacheChanged(e,n),this.abortSignal)}))}async onloadImpl(){await super.onloadImpl(),mf(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>this.fh.isNoteEx(n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFileNameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:()=>this.collectAllAttachments(),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:e=>this.collectAttachmentsCurrentFolder(e),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:()=>this.deleteEmptyFolders(),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:()=>this.convertAllLinkPathsToRelative(this.abortSignal),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.convertAllEmbedsPathsToRelative(),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikilinksWithMarkdownLinks(),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:()=>this.reorganizeVault(),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:()=>this.checkConsistency(),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new ri(this),this.fh=new ii(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new hn("Bad links"),n=new hn("Bad embeds"),r=new hn("Wiki links"),o=new hn("Wiki embeds"),s=new hn("Bad frontmatter links");await En({abortSignal:this.abortSignal,buildNoticeMessage:(h,m)=>`Checking note ${m} - ${h.path}`,items:hr(this.app),processItem:async h=>{await this.lh.checkConsistency(h,e,n,r,o,s)},progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,u=[e,n,r,o,s].map(h=>h.toString(this.app,l)).join("");await fr(this.app,oe(l));let d=await Fu(this.app,l);await this.app.vault.modify(d,u);let p=!1;this.app.workspace.iterateAllLeaves(h=>{h.getDisplayText()!==""&&l.startsWith(h.getDisplayText())&&(p=!0)}),p||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/",this.abortSignal)}async collectAttachments(e,n,r=!0){if(n.throwIfAborted(),this.settings.isPathIgnored(e.path)){r&&new ke.Notice("Note path is ignored");return}await this.saveAllOpenNotes(),n.throwIfAborted();let o=await this.fh.collectAttachmentsForCachedNote(e.path);n.throwIfAborted(),o.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(e.path,o.movedAttachments),n.throwIfAborted()),o.movedAttachments.length===0?r&&new ke.Notice("No files found that need to be moved"):new ke.Notice(`Moved ${o.movedAttachments.length.toString()} attachment${o.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,r=>this.collectAttachmentsInFolder(n.parent?.path??"/",r),this.abortSignal),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,r=>this.collectAttachments(n,r),this.abortSignal),!0)}async collectAttachmentsInFolder(e,n){n.throwIfAborted();let r=0,o=0;await this.saveAllOpenNotes(),await En({abortSignal:n,buildNoticeMessage:(s,l)=>`Collecting attachments ${l} - ${s.path}`,items:Tu(this.app,e,!0),processItem:async s=>{if(n.throwIfAborted(),this.settings.isPathIgnored(s.path))return;let l=await this.fh.collectAttachmentsForCachedNote(s.path);n.throwIfAborted(),l.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(s.path,l.movedAttachments),n.throwIfAborted(),r+=l.movedAttachments.length,o++)},progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),r===0?new ke.Notice("No files found that need to be moved"):new ke.Notice(`Moved ${r.toString()} attachment${r>1?"s":""} from ${o.toString()} note${o>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await En({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Converting embed paths to relative ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.convertAllNoteEmbedsPathsToRelative(r.path,this.abortSignal);o.length>0&&(e+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No embeds found that need to be converted"):new ke.Notice(`Converted ${e.toString()} embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,Fr(r=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path,r)),this.abortSignal),!0)}async convertAllLinkPathsToRelative(e){e.throwIfAborted(),await this.saveAllOpenNotes(),e.throwIfAborted();let n=0,r=0;await En({abortSignal:e,buildNoticeMessage:(o,s)=>`Converting link paths to relative ${s} - ${o.path}`,items:hr(this.app),processItem:async o=>{if(this.settings.isPathIgnored(o.path))return;let s=await this.lh.convertAllNoteLinksPathsToRelative(o.path,e);s.length>0&&(n+=s.length,r++)},progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new ke.Notice("No links found that need to be converted"):new ke.Notice(`Converted ${n.toString()} link${n>1?"s":""} from ${r.toString()} note${r>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,Fr(r=>this.lh.convertAllNoteLinksPathsToRelative(n.path,r)),this.abortSignal),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!be(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Lr(n)&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path,this.abortSignal))})}async handleMetadataCacheChanged(e,n){if(n.throwIfAborted(),!this.settings.shouldCollectAttachmentsAutomatically)return;let r=document.querySelector(".suggestion-container");r&&r.style.display!=="none"||await this.collectAttachments(e,n,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(this.abortSignal),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new ke.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await En({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wiki embeds with markdown embeds ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!0,this.abortSignal);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No wiki embeds found that need to be replaced"):new ke.Notice(`Replaced ${e.toString()} wiki embed${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,Fr(r=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0,r)),this.abortSignal),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await En({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wikilinks with markdown links ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!1,this.abortSignal);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No wiki links found that need to be replaced"):new ke.Notice(`Replaced ${e.toString()} wikilink${e>1?"s":""} from ${n.toString()} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,Fr(r=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1,r)),this.abortSignal),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof ke.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await Ui({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,ke.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var Fb=ws;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */